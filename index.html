<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SDM Tools - Reports Bundle</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              "telus-purple": "#4B0082",
              "telus-green": "#66CC00",
              "telus-blue": "#0066CC",
              "telus-light-purple": "#8A2BE2",
              "telus-dark-purple": "#2E0054",
            },
          },
        },
      };
    </script>
    <style>
/* Inlined from shared-dashboard-styles.css */
/* Shared Dashboard Styles */
/* TailwindCSS configuration and custom styles for team dashboard components */

.gradient-bg {
    background: linear-gradient(135deg, #760cc1, #c991fe);
}

.card-hover {
    transition: all 0.3s ease;
}

.card-hover:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

.progress-bar {
    background: #2E0054;
}

.telus-gradient {
    background: linear-gradient(45deg, #4B0082, #66CC00);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.table-container {
    overflow-x: auto;
    border-radius: 12px;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}
/* Inlined from shared-dashboard-styles.css */
/* Shared Dashboard Styles */
/* TailwindCSS configuration and custom styles for team dashboard components */

.gradient-bg {
    background: linear-gradient(135deg, #760cc1, #c991fe);
}

.card-hover {
    transition: all 0.3s ease;
}

.card-hover:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

.progress-bar {
    background: #2E0054;
}

.telus-gradient {
    background: linear-gradient(45deg, #4B0082, #66CC00);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.table-container {
    overflow-x: auto;
    border-radius: 12px;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

/* Custom tooltip styles */
      .chart-tooltip {
        position: absolute;
        background: rgba(0, 0, 0, 0.9);
        color: white;
        padding: 12px 16px;
        border-radius: 8px;
        font-family: system-ui, -apple-system, sans-serif;
        font-size: 13px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        max-height: 400px;
        overflow-y: auto;
        min-width: 220px;
        pointer-events: none;
        z-index: 1000;
        display: none;
      }

      .tooltip-header {
        font-weight: bold;
        font-size: 14px;
        margin-bottom: 8px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        padding-bottom: 6px;
      }

      .tooltip-row {
        display: flex;
        justify-content: space-between;
        padding: 3px 0;
        font-size: 12px;
      }

      .sprint-name {
        font-weight: 500;
      }

      .sprint-data {
        font-family: monospace;
        margin-left: 12px;
      }

      .tooltip-total {
        font-weight: bold;
        text-align: right;
        margin-top: 8px;
        padding-top: 8px;
        border-top: 1px solid rgba(255, 255, 255, 0.2);
        font-size: 13px;
      }

      .tooltip-average {
        font-weight: bold;
        font-size: 14px;
        text-align: center;
      }

/* Sidebar navigation styles */
.sidebar {
  position: fixed;
  left: 0;
  top: 0;
  height: 100vh;
  background: linear-gradient(180deg, #4B0082, #2E0054);
  transition: width 0.3s ease;
  z-index: 1000;
  overflow: hidden;
  box-shadow: 2px 0 10px rgba(0,0,0,0.1);
}

.sidebar-open { width: 260px; }
.sidebar-closed { width: 70px; }

.sidebar-header {
  padding: 20px;
  color: white;
  border-bottom: 1px solid rgba(255,255,255,0.1);
  margin-bottom: 10px;
}

.sidebar-title {
  font-size: 18px;
  font-weight: bold;
  white-space: nowrap;
  overflow: hidden;
}

.toggle-btn {
  position: absolute;
  top: 20px;
  right: 15px;
  background: rgba(255,255,255,0.2);
  border: none;
  color: white;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s;
  font-size: 16px;
}

.toggle-btn:hover {
  background: rgba(255,255,255,0.3);
}

.nav-item {
  padding: 16px 20px;
  color: white;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 12px;
  white-space: nowrap;
  overflow: hidden;
}

.nav-item-icon {
  font-size: 20px;
  flex-shrink: 0;
  width: 24px;
  text-align: center;
}

.nav-item-text {
  font-size: 14px;
  font-weight: 500;
}

.nav-item:hover {
  background: rgba(255,255,255,0.1);
  padding-left: 24px;
}

.nav-item.active {
  background: rgba(255,255,255,0.2);
  border-left: 4px solid #66CC00;
  font-weight: 600;
}

.sidebar-footer {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 20px;
  color: rgba(255,255,255,0.6);
  font-size: 11px;
  text-align: center;
  border-top: 1px solid rgba(255,255,255,0.1);
  white-space: nowrap;
  overflow: hidden;
}

.main-content {
  transition: margin-left 0.3s ease;
}

.main-content.with-sidebar-open {
  margin-left: 260px;
}

.main-content.with-sidebar-closed {
  margin-left: 70px;
}
    </style>
  </head>
  <body class="bg-gray-50">
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect, useRef } = React;

      // ═══════════════════════════════════════════════════════════════════════
      // EMBEDDED DATA FROM STANDALONE REPORTS
      // ═══════════════════════════════════════════════════════════════════════

      const EMBEDDED_DATA = {
  'daily':
    {
      "generated_at": "2025-12-02T11:53:17.818972-06:00",
      "report_type": "daily",
      "metadata": {
        "report_date": "2025-12-02",
        "timezone": "America/Mexico_City",
        "time_buckets": [
          "8am-10am",
          "10am-12pm",
          "12pm-2pm",
          "2pm-4pm",
          "4pm-6pm"
        ],
        "sprint": {
          "id": 163232,
          "name": "DevicesTITAN_Sprint 73",
          "state": "active"
        }
      },
      "developers": [
        {
          "name": "Henry Molina",
          "email": "henry.molina@telus.com",
          "buckets": {
            "8am-10am": {
              "jira": 0,
              "git": 0,
              "total": 0
            },
            "10am-12pm": {
              "jira": 6,
              "git": 0,
              "total": 6
            },
            "12pm-2pm": {
              "jira": 0,
              "git": 0,
              "total": 0
            },
            "2pm-4pm": {
              "jira": 0,
              "git": 0,
              "total": 0
            },
            "4pm-6pm": {
              "jira": 0,
              "git": 0,
              "total": 0
            }
          },
          "off_hours": {
            "jira": 0,
            "git": 0,
            "total": 0
          },
          "daily_total": {
            "jira": 6,
            "git": 0,
            "total": 6
          }
        },
        {
          "name": "Edgar Velasco",
          "email": "edgar.calderon@telus.com",
          "buckets": {
            "8am-10am": {
              "jira": 0,
              "git": 0,
              "total": 0
            },
            "10am-12pm": {
              "jira": 4,
              "git": 0,
              "total": 4
            },
            "12pm-2pm": {
              "jira": 0,
              "git": 0,
              "total": 0
            },
            "2pm-4pm": {
              "jira": 0,
              "git": 0,
              "total": 0
            },
            "4pm-6pm": {
              "jira": 0,
              "git": 0,
              "total": 0
            }
          },
          "off_hours": {
            "jira": 0,
            "git": 0,
            "total": 0
          },
          "daily_total": {
            "jira": 4,
            "git": 0,
            "total": 4
          }
        },
        {
          "name": "Diego Palacios",
          "email": "diego.palacios@telus.com",
          "buckets": {
            "8am-10am": {
              "jira": 0,
              "git": 0,
              "total": 0
            },
            "10am-12pm": {
              "jira": 1,
              "git": 1,
              "total": 2
            },
            "12pm-2pm": {
              "jira": 0,
              "git": 0,
              "total": 0
            },
            "2pm-4pm": {
              "jira": 0,
              "git": 0,
              "total": 0
            },
            "4pm-6pm": {
              "jira": 0,
              "git": 0,
              "total": 0
            }
          },
          "off_hours": {
            "jira": 0,
            "git": 0,
            "total": 0
          },
          "daily_total": {
            "jira": 1,
            "git": 1,
            "total": 2
          }
        },
        {
          "name": "Daniel Quan",
          "email": "daniel.quan@telus.com",
          "buckets": {
            "8am-10am": {
              "jira": 0,
              "git": 0,
              "total": 0
            },
            "10am-12pm": {
              "jira": 0,
              "git": 0,
              "total": 0
            },
            "12pm-2pm": {
              "jira": 0,
              "git": 0,
              "total": 0
            },
            "2pm-4pm": {
              "jira": 0,
              "git": 0,
              "total": 0
            },
            "4pm-6pm": {
              "jira": 0,
              "git": 0,
              "total": 0
            }
          },
          "off_hours": {
            "jira": 0,
            "git": 0,
            "total": 0
          },
          "daily_total": {
            "jira": 0,
            "git": 0,
            "total": 0
          }
        }
      ],
      "summary": {
        "total_developers": 4,
        "total_activity": 12,
        "total_jira_actions": 11,
        "total_repo_actions": 1,
        "most_active_bucket": "10am-12pm",
        "off_hours_activity": 0,
        "off_hours_percentage": 0.0,
        "bucket_totals": {
          "8am-10am": 0,
          "10am-12pm": 12,
          "12pm-2pm": 0,
          "2pm-4pm": 0,
          "4pm-6pm": 0,
          "off_hours": 0
        }
      }
    },
  'sprint':
    {
      "generated_at": "2025-12-02T11:53:20.082476-06:00",
      "report_type": "multi_sprint",
      "metadata": {
        "sprint_count": 10,
        "requested_limit": 10,
        "earliest_sprint": {
          "id": 159211,
          "name": "DevicesTITAN_Sprint 64",
          "start_date": "2025-07-16"
        },
        "latest_sprint": {
          "id": 163232,
          "name": "DevicesTITAN_Sprint 73",
          "start_date": "2025-11-19"
        }
      },
      "sprints": [
        {
          "sprint": {
            "id": 163232,
            "name": "DevicesTITAN_Sprint 73",
            "state": "active",
            "start_date": "2025-11-19",
            "end_date": "2025-12-03",
            "days_count": 15,
            "days_elapsed": 11
          },
          "daily_breakdown": [
            {
              "date": "2025-11-19",
              "total_activity": 8,
              "jira_actions": 4,
              "git_actions": 4,
              "active_developers": 2
            },
            {
              "date": "2025-11-20",
              "total_activity": 10,
              "jira_actions": 3,
              "git_actions": 7,
              "active_developers": 2
            },
            {
              "date": "2025-11-21",
              "total_activity": 9,
              "jira_actions": 1,
              "git_actions": 8,
              "active_developers": 3
            },
            {
              "date": "2025-11-23",
              "total_activity": 1,
              "jira_actions": 0,
              "git_actions": 1,
              "active_developers": 1
            },
            {
              "date": "2025-11-24",
              "total_activity": 20,
              "jira_actions": 9,
              "git_actions": 11,
              "active_developers": 4
            },
            {
              "date": "2025-11-25",
              "total_activity": 25,
              "jira_actions": 5,
              "git_actions": 20,
              "active_developers": 3
            },
            {
              "date": "2025-11-26",
              "total_activity": 11,
              "jira_actions": 6,
              "git_actions": 5,
              "active_developers": 3
            },
            {
              "date": "2025-11-27",
              "total_activity": 13,
              "jira_actions": 1,
              "git_actions": 12,
              "active_developers": 3
            },
            {
              "date": "2025-11-28",
              "total_activity": 15,
              "jira_actions": 6,
              "git_actions": 9,
              "active_developers": 4
            },
            {
              "date": "2025-12-01",
              "total_activity": 15,
              "jira_actions": 4,
              "git_actions": 11,
              "active_developers": 3
            },
            {
              "date": "2025-12-02",
              "total_activity": 12,
              "jira_actions": 11,
              "git_actions": 1,
              "active_developers": 3
            }
          ],
          "developer_summary": [
            {
              "name": "Henry Molina",
              "email": "henry.molina@telus.com",
              "sprint_total": 72,
              "sprint_jira": 25,
              "sprint_git": 47,
              "days_active": 11,
              "avg_per_day": 6.5
            },
            {
              "name": "Edgar Velasco",
              "email": "edgar.calderon@telus.com",
              "sprint_total": 31,
              "sprint_jira": 12,
              "sprint_git": 19,
              "days_active": 6,
              "avg_per_day": 5.2
            },
            {
              "name": "Diego Palacios",
              "email": "diego.palacios@telus.com",
              "sprint_total": 21,
              "sprint_jira": 7,
              "sprint_git": 14,
              "days_active": 8,
              "avg_per_day": 2.6
            },
            {
              "name": "Daniel Quan",
              "email": "daniel.quan@telus.com",
              "sprint_total": 15,
              "sprint_jira": 6,
              "sprint_git": 9,
              "days_active": 6,
              "avg_per_day": 2.5
            }
          ],
          "summary": {
            "sprint_total_activity": 139,
            "avg_daily_activity": 12.6,
            "most_active_day": "2025-11-25",
            "most_active_developer": "Henry Molina"
          }
        },
        {
          "sprint": {
            "id": 163231,
            "name": "DevicesTITAN_Sprint 72",
            "state": "closed",
            "start_date": "2025-11-05",
            "end_date": "2025-11-18",
            "days_count": 14,
            "days_elapsed": 11
          },
          "daily_breakdown": [
            {
              "date": "2025-11-05",
              "total_activity": 4,
              "jira_actions": 3,
              "git_actions": 1,
              "active_developers": 2
            },
            {
              "date": "2025-11-06",
              "total_activity": 6,
              "jira_actions": 5,
              "git_actions": 1,
              "active_developers": 2
            },
            {
              "date": "2025-11-07",
              "total_activity": 3,
              "jira_actions": 1,
              "git_actions": 2,
              "active_developers": 2
            },
            {
              "date": "2025-11-10",
              "total_activity": 13,
              "jira_actions": 0,
              "git_actions": 13,
              "active_developers": 2
            },
            {
              "date": "2025-11-11",
              "total_activity": 4,
              "jira_actions": 0,
              "git_actions": 4,
              "active_developers": 1
            },
            {
              "date": "2025-11-12",
              "total_activity": 4,
              "jira_actions": 3,
              "git_actions": 1,
              "active_developers": 2
            },
            {
              "date": "2025-11-13",
              "total_activity": 14,
              "jira_actions": 5,
              "git_actions": 9,
              "active_developers": 3
            },
            {
              "date": "2025-11-14",
              "total_activity": 2,
              "jira_actions": 2,
              "git_actions": 0,
              "active_developers": 1
            },
            {
              "date": "2025-11-16",
              "total_activity": 2,
              "jira_actions": 2,
              "git_actions": 0,
              "active_developers": 1
            },
            {
              "date": "2025-11-17",
              "total_activity": 7,
              "jira_actions": 1,
              "git_actions": 6,
              "active_developers": 2
            },
            {
              "date": "2025-11-18",
              "total_activity": 14,
              "jira_actions": 11,
              "git_actions": 3,
              "active_developers": 3
            }
          ],
          "developer_summary": [
            {
              "name": "Edgar Velasco",
              "email": "edgar.calderon@telus.com",
              "sprint_total": 26,
              "sprint_jira": 8,
              "sprint_git": 18,
              "days_active": 4,
              "avg_per_day": 6.5
            },
            {
              "name": "Henry Molina",
              "email": "henry.molina@telus.com",
              "sprint_total": 21,
              "sprint_jira": 11,
              "sprint_git": 10,
              "days_active": 7,
              "avg_per_day": 3.0
            },
            {
              "name": "Diego Palacios",
              "email": "diego.palacios@telus.com",
              "sprint_total": 20,
              "sprint_jira": 8,
              "sprint_git": 12,
              "days_active": 7,
              "avg_per_day": 2.9
            },
            {
              "name": "Daniel Quan",
              "email": "daniel.quan@telus.com",
              "sprint_total": 6,
              "sprint_jira": 6,
              "sprint_git": 0,
              "days_active": 3,
              "avg_per_day": 2.0
            }
          ],
          "summary": {
            "sprint_total_activity": 73,
            "avg_daily_activity": 6.6,
            "most_active_day": "2025-11-13",
            "most_active_developer": "Edgar Velasco"
          }
        },
        {
          "sprint": {
            "id": 161877,
            "name": "DevicesTITAN_Sprint 71",
            "state": "closed",
            "start_date": "2025-10-22",
            "end_date": "2025-11-04",
            "days_count": 14,
            "days_elapsed": 9
          },
          "daily_breakdown": [
            {
              "date": "2025-10-22",
              "total_activity": 8,
              "jira_actions": 0,
              "git_actions": 8,
              "active_developers": 2
            },
            {
              "date": "2025-10-23",
              "total_activity": 6,
              "jira_actions": 0,
              "git_actions": 6,
              "active_developers": 2
            },
            {
              "date": "2025-10-27",
              "total_activity": 2,
              "jira_actions": 0,
              "git_actions": 2,
              "active_developers": 1
            },
            {
              "date": "2025-10-28",
              "total_activity": 1,
              "jira_actions": 0,
              "git_actions": 1,
              "active_developers": 1
            },
            {
              "date": "2025-10-29",
              "total_activity": 4,
              "jira_actions": 0,
              "git_actions": 4,
              "active_developers": 2
            },
            {
              "date": "2025-10-30",
              "total_activity": 11,
              "jira_actions": 2,
              "git_actions": 9,
              "active_developers": 2
            },
            {
              "date": "2025-10-31",
              "total_activity": 9,
              "jira_actions": 5,
              "git_actions": 4,
              "active_developers": 3
            },
            {
              "date": "2025-11-03",
              "total_activity": 5,
              "jira_actions": 2,
              "git_actions": 3,
              "active_developers": 3
            },
            {
              "date": "2025-11-04",
              "total_activity": 15,
              "jira_actions": 10,
              "git_actions": 5,
              "active_developers": 3
            }
          ],
          "developer_summary": [
            {
              "name": "Henry Molina",
              "email": "henry.molina@telus.com",
              "sprint_total": 25,
              "sprint_jira": 6,
              "sprint_git": 19,
              "days_active": 7,
              "avg_per_day": 3.6
            },
            {
              "name": "Diego Palacios",
              "email": "diego.palacios@telus.com",
              "sprint_total": 23,
              "sprint_jira": 5,
              "sprint_git": 18,
              "days_active": 8,
              "avg_per_day": 2.9
            },
            {
              "name": "Daniel Quan",
              "email": "daniel.quan@telus.com",
              "sprint_total": 11,
              "sprint_jira": 6,
              "sprint_git": 5,
              "days_active": 3,
              "avg_per_day": 3.7
            },
            {
              "name": "Edgar Velasco",
              "email": "edgar.calderon@telus.com",
              "sprint_total": 2,
              "sprint_jira": 2,
              "sprint_git": 0,
              "days_active": 1,
              "avg_per_day": 2.0
            }
          ],
          "summary": {
            "sprint_total_activity": 61,
            "avg_daily_activity": 6.8,
            "most_active_day": "2025-11-04",
            "most_active_developer": "Henry Molina"
          }
        },
        {
          "sprint": {
            "id": 161221,
            "name": "DevicesTITAN_Sprint 70",
            "state": "closed",
            "start_date": "2025-10-08",
            "end_date": "2025-10-21",
            "days_count": 14,
            "days_elapsed": 8
          },
          "daily_breakdown": [
            {
              "date": "2025-10-08",
              "total_activity": 6,
              "jira_actions": 2,
              "git_actions": 4,
              "active_developers": 2
            },
            {
              "date": "2025-10-09",
              "total_activity": 11,
              "jira_actions": 3,
              "git_actions": 8,
              "active_developers": 2
            },
            {
              "date": "2025-10-10",
              "total_activity": 8,
              "jira_actions": 3,
              "git_actions": 5,
              "active_developers": 2
            },
            {
              "date": "2025-10-15",
              "total_activity": 13,
              "jira_actions": 9,
              "git_actions": 4,
              "active_developers": 2
            },
            {
              "date": "2025-10-16",
              "total_activity": 5,
              "jira_actions": 4,
              "git_actions": 1,
              "active_developers": 1
            },
            {
              "date": "2025-10-17",
              "total_activity": 7,
              "jira_actions": 4,
              "git_actions": 3,
              "active_developers": 2
            },
            {
              "date": "2025-10-20",
              "total_activity": 2,
              "jira_actions": 0,
              "git_actions": 2,
              "active_developers": 1
            },
            {
              "date": "2025-10-21",
              "total_activity": 3,
              "jira_actions": 0,
              "git_actions": 3,
              "active_developers": 2
            }
          ],
          "developer_summary": [
            {
              "name": "Henry Molina",
              "email": "henry.molina@telus.com",
              "sprint_total": 29,
              "sprint_jira": 12,
              "sprint_git": 17,
              "days_active": 7,
              "avg_per_day": 4.1
            },
            {
              "name": "Diego Palacios",
              "email": "diego.palacios@telus.com",
              "sprint_total": 17,
              "sprint_jira": 7,
              "sprint_git": 10,
              "days_active": 4,
              "avg_per_day": 4.2
            },
            {
              "name": "Daniel Quan",
              "email": "daniel.quan@telus.com",
              "sprint_total": 9,
              "sprint_jira": 6,
              "sprint_git": 3,
              "days_active": 3,
              "avg_per_day": 3.0
            }
          ],
          "summary": {
            "sprint_total_activity": 55,
            "avg_daily_activity": 6.9,
            "most_active_day": "2025-10-15",
            "most_active_developer": "Henry Molina"
          }
        },
        {
          "sprint": {
            "id": 161188,
            "name": "DevicesTITAN_Sprint 69",
            "state": "closed",
            "start_date": "2025-09-24",
            "end_date": "2025-10-07",
            "days_count": 14,
            "days_elapsed": 10
          },
          "daily_breakdown": [
            {
              "date": "2025-09-24",
              "total_activity": 2,
              "jira_actions": 2,
              "git_actions": 0,
              "active_developers": 1
            },
            {
              "date": "2025-09-25",
              "total_activity": 1,
              "jira_actions": 0,
              "git_actions": 1,
              "active_developers": 1
            },
            {
              "date": "2025-09-26",
              "total_activity": 14,
              "jira_actions": 4,
              "git_actions": 10,
              "active_developers": 2
            },
            {
              "date": "2025-09-29",
              "total_activity": 4,
              "jira_actions": 3,
              "git_actions": 1,
              "active_developers": 2
            },
            {
              "date": "2025-09-30",
              "total_activity": 5,
              "jira_actions": 0,
              "git_actions": 5,
              "active_developers": 3
            },
            {
              "date": "2025-10-01",
              "total_activity": 1,
              "jira_actions": 1,
              "git_actions": 0,
              "active_developers": 1
            },
            {
              "date": "2025-10-02",
              "total_activity": 9,
              "jira_actions": 0,
              "git_actions": 9,
              "active_developers": 1
            },
            {
              "date": "2025-10-03",
              "total_activity": 16,
              "jira_actions": 9,
              "git_actions": 7,
              "active_developers": 3
            },
            {
              "date": "2025-10-06",
              "total_activity": 5,
              "jira_actions": 1,
              "git_actions": 4,
              "active_developers": 1
            },
            {
              "date": "2025-10-07",
              "total_activity": 18,
              "jira_actions": 14,
              "git_actions": 4,
              "active_developers": 2
            }
          ],
          "developer_summary": [
            {
              "name": "Edgar Velasco",
              "email": "edgar.calderon@telus.com",
              "sprint_total": 29,
              "sprint_jira": 10,
              "sprint_git": 19,
              "days_active": 3,
              "avg_per_day": 9.7
            },
            {
              "name": "Henry Molina",
              "email": "henry.molina@telus.com",
              "sprint_total": 20,
              "sprint_jira": 12,
              "sprint_git": 8,
              "days_active": 6,
              "avg_per_day": 3.3
            },
            {
              "name": "Diego Palacios",
              "email": "diego.palacios@telus.com",
              "sprint_total": 20,
              "sprint_jira": 8,
              "sprint_git": 12,
              "days_active": 5,
              "avg_per_day": 4.0
            },
            {
              "name": "Daniel Quan",
              "email": "daniel.quan@telus.com",
              "sprint_total": 6,
              "sprint_jira": 4,
              "sprint_git": 2,
              "days_active": 3,
              "avg_per_day": 2.0
            }
          ],
          "summary": {
            "sprint_total_activity": 75,
            "avg_daily_activity": 7.5,
            "most_active_day": "2025-10-07",
            "most_active_developer": "Edgar Velasco"
          }
        },
        {
          "sprint": {
            "id": 160917,
            "name": "DevicesTITAN_Sprint 68",
            "state": "closed",
            "start_date": "2025-09-10",
            "end_date": "2025-09-23",
            "days_count": 14,
            "days_elapsed": 7
          },
          "daily_breakdown": [
            {
              "date": "2025-09-10",
              "total_activity": 20,
              "jira_actions": 0,
              "git_actions": 20,
              "active_developers": 3
            },
            {
              "date": "2025-09-16",
              "total_activity": 3,
              "jira_actions": 0,
              "git_actions": 3,
              "active_developers": 2
            },
            {
              "date": "2025-09-17",
              "total_activity": 11,
              "jira_actions": 10,
              "git_actions": 1,
              "active_developers": 3
            },
            {
              "date": "2025-09-18",
              "total_activity": 2,
              "jira_actions": 0,
              "git_actions": 2,
              "active_developers": 1
            },
            {
              "date": "2025-09-19",
              "total_activity": 1,
              "jira_actions": 0,
              "git_actions": 1,
              "active_developers": 1
            },
            {
              "date": "2025-09-20",
              "total_activity": 1,
              "jira_actions": 1,
              "git_actions": 0,
              "active_developers": 1
            },
            {
              "date": "2025-09-23",
              "total_activity": 3,
              "jira_actions": 2,
              "git_actions": 1,
              "active_developers": 2
            }
          ],
          "developer_summary": [
            {
              "name": "Henry Molina",
              "email": "henry.molina@telus.com",
              "sprint_total": 18,
              "sprint_jira": 3,
              "sprint_git": 15,
              "days_active": 4,
              "avg_per_day": 4.5
            },
            {
              "name": "Diego Palacios",
              "email": "diego.palacios@telus.com",
              "sprint_total": 14,
              "sprint_jira": 6,
              "sprint_git": 8,
              "days_active": 4,
              "avg_per_day": 3.5
            },
            {
              "name": "Daniel Quan",
              "email": "daniel.quan@telus.com",
              "sprint_total": 5,
              "sprint_jira": 4,
              "sprint_git": 1,
              "days_active": 2,
              "avg_per_day": 2.5
            },
            {
              "name": "Edgar Velasco",
              "email": "edgar.calderon@telus.com",
              "sprint_total": 4,
              "sprint_jira": 0,
              "sprint_git": 4,
              "days_active": 3,
              "avg_per_day": 1.3
            }
          ],
          "summary": {
            "sprint_total_activity": 41,
            "avg_daily_activity": 5.9,
            "most_active_day": "2025-09-10",
            "most_active_developer": "Henry Molina"
          }
        },
        {
          "sprint": {
            "id": 160496,
            "name": "DevicesTITAN_Sprint 67",
            "state": "closed",
            "start_date": "2025-08-27",
            "end_date": "2025-09-09",
            "days_count": 14,
            "days_elapsed": 7
          },
          "daily_breakdown": [
            {
              "date": "2025-09-01",
              "total_activity": 3,
              "jira_actions": 0,
              "git_actions": 3,
              "active_developers": 2
            },
            {
              "date": "2025-09-02",
              "total_activity": 2,
              "jira_actions": 0,
              "git_actions": 2,
              "active_developers": 2
            },
            {
              "date": "2025-09-03",
              "total_activity": 1,
              "jira_actions": 0,
              "git_actions": 1,
              "active_developers": 1
            },
            {
              "date": "2025-09-04",
              "total_activity": 6,
              "jira_actions": 2,
              "git_actions": 4,
              "active_developers": 3
            },
            {
              "date": "2025-09-05",
              "total_activity": 4,
              "jira_actions": 1,
              "git_actions": 3,
              "active_developers": 2
            },
            {
              "date": "2025-09-08",
              "total_activity": 6,
              "jira_actions": 1,
              "git_actions": 5,
              "active_developers": 2
            },
            {
              "date": "2025-09-09",
              "total_activity": 10,
              "jira_actions": 1,
              "git_actions": 9,
              "active_developers": 2
            }
          ],
          "developer_summary": [
            {
              "name": "Henry Molina",
              "email": "henry.molina@telus.com",
              "sprint_total": 12,
              "sprint_jira": 1,
              "sprint_git": 11,
              "days_active": 2,
              "avg_per_day": 6.0
            },
            {
              "name": "Daniel Quan",
              "email": "daniel.quan@telus.com",
              "sprint_total": 7,
              "sprint_jira": 2,
              "sprint_git": 5,
              "days_active": 3,
              "avg_per_day": 2.3
            },
            {
              "name": "Edgar Velasco",
              "email": "edgar.calderon@telus.com",
              "sprint_total": 7,
              "sprint_jira": 0,
              "sprint_git": 7,
              "days_active": 5,
              "avg_per_day": 1.4
            },
            {
              "name": "Diego Palacios",
              "email": "diego.palacios@telus.com",
              "sprint_total": 6,
              "sprint_jira": 2,
              "sprint_git": 4,
              "days_active": 4,
              "avg_per_day": 1.5
            }
          ],
          "summary": {
            "sprint_total_activity": 32,
            "avg_daily_activity": 4.6,
            "most_active_day": "2025-09-09",
            "most_active_developer": "Henry Molina"
          }
        },
        {
          "sprint": {
            "id": 160220,
            "name": "DevicesTITAN_Sprint 66",
            "state": "closed",
            "start_date": "2025-08-13",
            "end_date": "2025-08-27",
            "days_count": 15,
            "days_elapsed": 12
          },
          "daily_breakdown": [
            {
              "date": "2025-08-13",
              "total_activity": 28,
              "jira_actions": 27,
              "git_actions": 1,
              "active_developers": 2
            },
            {
              "date": "2025-08-14",
              "total_activity": 8,
              "jira_actions": 1,
              "git_actions": 7,
              "active_developers": 3
            },
            {
              "date": "2025-08-15",
              "total_activity": 9,
              "jira_actions": 0,
              "git_actions": 9,
              "active_developers": 3
            },
            {
              "date": "2025-08-17",
              "total_activity": 8,
              "jira_actions": 4,
              "git_actions": 4,
              "active_developers": 1
            },
            {
              "date": "2025-08-18",
              "total_activity": 10,
              "jira_actions": 1,
              "git_actions": 9,
              "active_developers": 3
            },
            {
              "date": "2025-08-19",
              "total_activity": 3,
              "jira_actions": 0,
              "git_actions": 3,
              "active_developers": 2
            },
            {
              "date": "2025-08-20",
              "total_activity": 11,
              "jira_actions": 2,
              "git_actions": 9,
              "active_developers": 2
            },
            {
              "date": "2025-08-21",
              "total_activity": 9,
              "jira_actions": 3,
              "git_actions": 6,
              "active_developers": 2
            },
            {
              "date": "2025-08-22",
              "total_activity": 1,
              "jira_actions": 1,
              "git_actions": 0,
              "active_developers": 1
            },
            {
              "date": "2025-08-25",
              "total_activity": 3,
              "jira_actions": 0,
              "git_actions": 3,
              "active_developers": 2
            },
            {
              "date": "2025-08-26",
              "total_activity": 2,
              "jira_actions": 1,
              "git_actions": 1,
              "active_developers": 2
            },
            {
              "date": "2025-08-27",
              "total_activity": 25,
              "jira_actions": 22,
              "git_actions": 3,
              "active_developers": 3
            }
          ],
          "developer_summary": [
            {
              "name": "Henry Molina",
              "email": "henry.molina@telus.com",
              "sprint_total": 65,
              "sprint_jira": 53,
              "sprint_git": 12,
              "days_active": 10,
              "avg_per_day": 6.5
            },
            {
              "name": "Edgar Velasco",
              "email": "edgar.calderon@telus.com",
              "sprint_total": 37,
              "sprint_jira": 4,
              "sprint_git": 33,
              "days_active": 7,
              "avg_per_day": 5.3
            },
            {
              "name": "Diego Palacios",
              "email": "diego.palacios@telus.com",
              "sprint_total": 12,
              "sprint_jira": 3,
              "sprint_git": 9,
              "days_active": 7,
              "avg_per_day": 1.7
            },
            {
              "name": "Daniel Quan",
              "email": "daniel.quan@telus.com",
              "sprint_total": 3,
              "sprint_jira": 2,
              "sprint_git": 1,
              "days_active": 2,
              "avg_per_day": 1.5
            }
          ],
          "summary": {
            "sprint_total_activity": 117,
            "avg_daily_activity": 9.8,
            "most_active_day": "2025-08-13",
            "most_active_developer": "Henry Molina"
          }
        },
        {
          "sprint": {
            "id": 159823,
            "name": "DevicesTITAN_Sprint 65",
            "state": "closed",
            "start_date": "2025-07-30",
            "end_date": "2025-08-12",
            "days_count": 14,
            "days_elapsed": 8
          },
          "daily_breakdown": [
            {
              "date": "2025-07-30",
              "total_activity": 20,
              "jira_actions": 16,
              "git_actions": 4,
              "active_developers": 1
            },
            {
              "date": "2025-07-31",
              "total_activity": 6,
              "jira_actions": 2,
              "git_actions": 4,
              "active_developers": 2
            },
            {
              "date": "2025-08-01",
              "total_activity": 3,
              "jira_actions": 0,
              "git_actions": 3,
              "active_developers": 1
            },
            {
              "date": "2025-08-04",
              "total_activity": 1,
              "jira_actions": 1,
              "git_actions": 0,
              "active_developers": 1
            },
            {
              "date": "2025-08-07",
              "total_activity": 1,
              "jira_actions": 0,
              "git_actions": 1,
              "active_developers": 1
            },
            {
              "date": "2025-08-08",
              "total_activity": 1,
              "jira_actions": 0,
              "git_actions": 1,
              "active_developers": 1
            },
            {
              "date": "2025-08-11",
              "total_activity": 9,
              "jira_actions": 0,
              "git_actions": 9,
              "active_developers": 2
            },
            {
              "date": "2025-08-12",
              "total_activity": 6,
              "jira_actions": 3,
              "git_actions": 3,
              "active_developers": 3
            }
          ],
          "developer_summary": [
            {
              "name": "Henry Molina",
              "email": "henry.molina@telus.com",
              "sprint_total": 28,
              "sprint_jira": 20,
              "sprint_git": 8,
              "days_active": 4,
              "avg_per_day": 7.0
            },
            {
              "name": "Edgar Velasco",
              "email": "edgar.calderon@telus.com",
              "sprint_total": 15,
              "sprint_jira": 2,
              "sprint_git": 13,
              "days_active": 4,
              "avg_per_day": 3.8
            },
            {
              "name": "Diego Palacios",
              "email": "diego.palacios@telus.com",
              "sprint_total": 4,
              "sprint_jira": 0,
              "sprint_git": 4,
              "days_active": 4,
              "avg_per_day": 1.0
            }
          ],
          "summary": {
            "sprint_total_activity": 47,
            "avg_daily_activity": 5.9,
            "most_active_day": "2025-07-30",
            "most_active_developer": "Henry Molina"
          }
        },
        {
          "sprint": {
            "id": 159211,
            "name": "DevicesTITAN_Sprint 64",
            "state": "closed",
            "start_date": "2025-07-16",
            "end_date": "2025-07-29",
            "days_count": 14,
            "days_elapsed": 10
          },
          "daily_breakdown": [
            {
              "date": "2025-07-16",
              "total_activity": 18,
              "jira_actions": 9,
              "git_actions": 9,
              "active_developers": 2
            },
            {
              "date": "2025-07-17",
              "total_activity": 3,
              "jira_actions": 0,
              "git_actions": 3,
              "active_developers": 1
            },
            {
              "date": "2025-07-18",
              "total_activity": 3,
              "jira_actions": 0,
              "git_actions": 3,
              "active_developers": 1
            },
            {
              "date": "2025-07-21",
              "total_activity": 4,
              "jira_actions": 0,
              "git_actions": 4,
              "active_developers": 3
            },
            {
              "date": "2025-07-22",
              "total_activity": 7,
              "jira_actions": 0,
              "git_actions": 7,
              "active_developers": 2
            },
            {
              "date": "2025-07-23",
              "total_activity": 4,
              "jira_actions": 0,
              "git_actions": 4,
              "active_developers": 3
            },
            {
              "date": "2025-07-24",
              "total_activity": 6,
              "jira_actions": 0,
              "git_actions": 6,
              "active_developers": 3
            },
            {
              "date": "2025-07-25",
              "total_activity": 3,
              "jira_actions": 0,
              "git_actions": 3,
              "active_developers": 1
            },
            {
              "date": "2025-07-28",
              "total_activity": 7,
              "jira_actions": 0,
              "git_actions": 7,
              "active_developers": 2
            },
            {
              "date": "2025-07-29",
              "total_activity": 4,
              "jira_actions": 0,
              "git_actions": 4,
              "active_developers": 1
            }
          ],
          "developer_summary": [
            {
              "name": "Henry Molina",
              "email": "henry.molina@telus.com",
              "sprint_total": 28,
              "sprint_jira": 9,
              "sprint_git": 19,
              "days_active": 7,
              "avg_per_day": 4.0
            },
            {
              "name": "Edgar Velasco",
              "email": "edgar.calderon@telus.com",
              "sprint_total": 23,
              "sprint_jira": 0,
              "sprint_git": 23,
              "days_active": 7,
              "avg_per_day": 3.3
            },
            {
              "name": "Diego Palacios",
              "email": "diego.palacios@telus.com",
              "sprint_total": 8,
              "sprint_jira": 0,
              "sprint_git": 8,
              "days_active": 5,
              "avg_per_day": 1.6
            }
          ],
          "summary": {
            "sprint_total_activity": 59,
            "avg_daily_activity": 5.9,
            "most_active_day": "2025-07-16",
            "most_active_developer": "Henry Molina"
          }
        }
      ],
      "overall_summary": {
        "total_sprints": 10,
        "total_activity": 699,
        "avg_per_sprint": 69.9,
        "most_active_sprint": {
          "id": 163232,
          "name": "DevicesTITAN_Sprint 73",
          "activity": 139
        },
        "unique_developers": 4,
        "developer_participation": [
          {
            "name": "Henry Molina",
            "email": "henry.molina@telus.com",
            "total_activity": 318,
            "sprints_participated": 10
          },
          {
            "name": "Edgar Velasco",
            "email": "edgar.calderon@telus.com",
            "total_activity": 174,
            "sprints_participated": 9
          },
          {
            "name": "Diego Palacios",
            "email": "diego.palacios@telus.com",
            "total_activity": 145,
            "sprints_participated": 10
          },
          {
            "name": "Daniel Quan",
            "email": "daniel.quan@telus.com",
            "total_activity": 62,
            "sprints_participated": 8
          }
        ]
      }
    },
  'velocity':
    {
      "generated_at": "2025-12-02T11:53:21.907876-06:00",
      "report_type": "sprint_velocity",
      "metadata": {
        "sprint_count": 10,
        "earliest_sprint": {
          "id": 159211,
          "name": "DevicesTITAN_Sprint 64",
          "start_date": "2025-07-16"
        },
        "latest_sprint": {
          "id": 163232,
          "name": "DevicesTITAN_Sprint 73",
          "start_date": "2025-11-19"
        },
        "total_planned_points": 272.0,
        "total_delivered_points": 352.0,
        "avg_planned_per_sprint": 27.2,
        "avg_delivered_per_sprint": 35.2,
        "overall_completion_rate": 129.4
      },
      "sprints": [
        {
          "id": 159211,
          "name": "DevicesTITAN_Sprint 64",
          "start_date": "2025-07-16",
          "end_date": "2025-07-29",
          "state": "closed",
          "planned_points": 3.0,
          "delivered_points": 0.0,
          "completion_rate": 0.0,
          "total_issues": 1,
          "completed_issues": 0,
          "planned_issues": 1
        },
        {
          "id": 159823,
          "name": "DevicesTITAN_Sprint 65",
          "start_date": "2025-07-30",
          "end_date": "2025-08-12",
          "state": "closed",
          "planned_points": 0.0,
          "delivered_points": 44.0,
          "completion_rate": 0.0,
          "total_issues": 4,
          "completed_issues": 4,
          "planned_issues": 0
        },
        {
          "id": 160220,
          "name": "DevicesTITAN_Sprint 66",
          "start_date": "2025-08-13",
          "end_date": "2025-08-27",
          "state": "closed",
          "planned_points": 5.0,
          "delivered_points": 35.0,
          "completion_rate": 700.0,
          "total_issues": 14,
          "completed_issues": 9,
          "planned_issues": 1
        },
        {
          "id": 160496,
          "name": "DevicesTITAN_Sprint 67",
          "start_date": "2025-08-27",
          "end_date": "2025-09-09",
          "state": "closed",
          "planned_points": 4.0,
          "delivered_points": 12.0,
          "completion_rate": 300.0,
          "total_issues": 5,
          "completed_issues": 3,
          "planned_issues": 2
        },
        {
          "id": 160917,
          "name": "DevicesTITAN_Sprint 68",
          "start_date": "2025-09-10",
          "end_date": "2025-09-23",
          "state": "closed",
          "planned_points": 10.0,
          "delivered_points": 8.0,
          "completion_rate": 80.0,
          "total_issues": 2,
          "completed_issues": 1,
          "planned_issues": 2
        },
        {
          "id": 161188,
          "name": "DevicesTITAN_Sprint 69",
          "start_date": "2025-09-24",
          "end_date": "2025-10-07",
          "state": "closed",
          "planned_points": 14.0,
          "delivered_points": 44.0,
          "completion_rate": 314.3,
          "total_issues": 12,
          "completed_issues": 9,
          "planned_issues": 4
        },
        {
          "id": 161221,
          "name": "DevicesTITAN_Sprint 70",
          "start_date": "2025-10-08",
          "end_date": "2025-10-21",
          "state": "closed",
          "planned_points": 47.0,
          "delivered_points": 42.0,
          "completion_rate": 89.4,
          "total_issues": 18,
          "completed_issues": 14,
          "planned_issues": 13
        },
        {
          "id": 161877,
          "name": "DevicesTITAN_Sprint 71",
          "start_date": "2025-10-22",
          "end_date": "2025-11-04",
          "state": "closed",
          "planned_points": 70.0,
          "delivered_points": 63.0,
          "completion_rate": 90.0,
          "total_issues": 16,
          "completed_issues": 12,
          "planned_issues": 11
        },
        {
          "id": 163231,
          "name": "DevicesTITAN_Sprint 72",
          "start_date": "2025-11-05",
          "end_date": "2025-11-18",
          "state": "closed",
          "planned_points": 60.0,
          "delivered_points": 47.0,
          "completion_rate": 78.3,
          "total_issues": 23,
          "completed_issues": 12,
          "planned_issues": 11
        },
        {
          "id": 163232,
          "name": "DevicesTITAN_Sprint 73",
          "start_date": "2025-11-19",
          "end_date": "2025-12-03",
          "state": "active",
          "planned_points": 59.0,
          "delivered_points": 57.0,
          "completion_rate": 96.6,
          "total_issues": 29,
          "completed_issues": 14,
          "planned_issues": 17
        }
      ]
    }
  };

      // ═══════════════════════════════════════════════════════════════════════
      // COMPONENTS EXTRACTED FROM STANDALONE REPORTS
      // ═══════════════════════════════════════════════════════════════════════

      // ==================== Daily Activity Dashboard ====================
// Bar Chart Component
      const BarChart = ({ data, title }) => {
        const chartRef = useRef(null);
        const chartInstance = useRef(null);

        useEffect(() => {
          if (!chartRef.current || !data) return;
          if (chartInstance.current) chartInstance.current.destroy();

          const ctx = chartRef.current.getContext("2d");
          chartInstance.current = new Chart(ctx, {
            type: "bar",
            data: {
              labels: data.labels,
              datasets: data.datasets,
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                legend: { position: "top" },
                title: { display: true, text: title, font: { size: 16 } },
              },
              scales: {
                x: { stacked: true },
                y: { stacked: true, beginAtZero: true },
              },
            },
          });

          return () => {
            if (chartInstance.current) chartInstance.current.destroy();
          };
        }, [data, title]);

        return <canvas ref={chartRef} className="w-full h-64"></canvas>;
      };

      // Doughnut Chart Component
      const DoughnutChart = ({ data, title }) => {
        const chartRef = useRef(null);
        const chartInstance = useRef(null);

        useEffect(() => {
          if (!chartRef.current || !data) return;
          if (chartInstance.current) chartInstance.current.destroy();

          const ctx = chartRef.current.getContext("2d");
          chartInstance.current = new Chart(ctx, {
            type: "doughnut",
            data: {
              labels: data.labels,
              datasets: [
                {
                  data: data.values,
                  backgroundColor: ["#4B0082", "#EA580C", "#FF6B6B", "#FFE66D"],
                },
              ],
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                legend: { position: "right" },
                title: { display: true, text: title, font: { size: 16 } },
              },
            },
          });

          return () => {
            if (chartInstance.current) chartInstance.current.destroy();
          };
        }, [data, title]);

        return <canvas ref={chartRef} className="w-full h-64"></canvas>;
      };

      // Activity Heatmap Component
      const ActivityHeatmap = ({ developers, bucketDisplayNames }) => {
        const getIntensityColor = (total) => {
          if (total === 0) return "bg-gray-100 text-gray-400";
          if (total >= 10) return "bg-green-600 text-white";
          if (total >= 5) return "bg-green-400 text-gray-900";
          if (total >= 3) return "bg-yellow-300 text-gray-900";
          return "bg-blue-200 text-gray-900";
        };

        const getOffHoursColor = (total) => {
          if (total === 0) return "bg-gray-100 text-gray-400";
          if (total >= 5) return "bg-orange-500 text-white";
          if (total >= 3) return "bg-orange-300 text-gray-900";
          return "bg-yellow-200 text-gray-900";
        };

        const buckets = [
          "8am-10am",
          "10am-12pm",
          "12pm-2pm",
          "2pm-4pm",
          "4pm-6pm",
        ];

        return (
          <div className="overflow-x-auto">
            <table className="min-w-full bg-white border border-gray-200 text-sm">
              <thead className="bg-telus-purple text-white">
                <tr>
                  <th className="px-4 py-3 text-left">Developer</th>
                  {buckets.map((bucket) => (
                    <th key={bucket} className="px-4 py-3 text-center">
                      {bucketDisplayNames[bucket] || bucket}
                    </th>
                  ))}
                  <th className="px-4 py-3 text-center bg-orange-600">
                    Off-Hours
                  </th>
                  <th className="px-4 py-3 text-center bg-telus-green">
                    Total
                  </th>
                </tr>
              </thead>
              <tbody>
                {developers
                  .slice(0, 15)
                  .map((dev, idx) => (
                    <tr key={idx} className="border-t hover:bg-gray-50">
                      <td className="px-4 py-2 font-medium">{dev.name}</td>
                      {buckets.map((bucket) => (
                        <td
                          key={bucket}
                          className={`px-4 py-2 text-center ${getIntensityColor(dev.buckets[bucket]?.total || 0)}`}
                        >
                          <div className="font-bold">
                            {dev.buckets[bucket]?.total || "-"}
                          </div>
                          {dev.buckets[bucket]?.total > 0 && (
                            <div className="text-xs">
                              J:{dev.buckets[bucket].jira} R:
                              {dev.buckets[bucket].git}
                            </div>
                          )}
                        </td>
                      ))}
                      <td
                        className={`px-4 py-2 text-center ${getOffHoursColor(dev.off_hours.total)}`}
                      >
                        <div className="font-bold">
                          {dev.off_hours.total || "-"}
                        </div>
                        {dev.off_hours.total > 0 && (
                          <div className="text-xs">
                            J:{dev.off_hours.jira} R:{dev.off_hours.git}
                          </div>
                        )}
                      </td>
                      <td className="px-4 py-2 text-center bg-green-100 font-bold">
                        {dev.daily_total.total}
                      </td>
                    </tr>
                  ))}
              </tbody>
            </table>
            <div className="mt-4 text-xs text-gray-600 flex gap-4">
              <span className="flex items-center gap-2">
                <span className="w-4 h-4 bg-green-600"></span> 10+
              </span>
              <span className="flex items-center gap-2">
                <span className="w-4 h-4 bg-green-400"></span> 5-9
              </span>
              <span className="flex items-center gap-2">
                <span className="w-4 h-4 bg-yellow-300"></span> 3-4
              </span>
              <span className="flex items-center gap-2">
                <span className="w-4 h-4 bg-blue-200"></span> 1-2
              </span>
            </div>
          </div>
        );
      };

      // Main Dashboard Component
      const DailyActivityDashboard = () => {
        const [data, setData] = useState(null);
        const [loading, setLoading] = useState(true);

        // Map interval labels to display labels (cutoff times - max of each bucket)
        const bucketDisplayNames = {
          "8am-10am": "10am",
          "10am-12pm": "12pm",
          "12pm-2pm": "2pm",
          "2pm-4pm": "4pm",
          "4pm-6pm": "6pm",
        };

        useEffect(() => {
          /* Inlined data from ./data/daily_activity_report.json */
          Promise.resolve({"generated_at": "2025-12-02T11:53:17.818972-06:00", "report_type": "daily", "metadata": {"report_date": "2025-12-02", "timezone": "America/Mexico_City", "time_buckets": ["8am-10am", "10am-12pm", "12pm-2pm", "2pm-4pm", "4pm-6pm"], "sprint": {"id": 163232, "name": "DevicesTITAN_Sprint 73", "state": "active"}}, "developers": [{"name": "Henry Molina", "email": "henry.molina@telus.com", "buckets": {"8am-10am": {"jira": 0, "git": 0, "total": 0}, "10am-12pm": {"jira": 6, "git": 0, "total": 6}, "12pm-2pm": {"jira": 0, "git": 0, "total": 0}, "2pm-4pm": {"jira": 0, "git": 0, "total": 0}, "4pm-6pm": {"jira": 0, "git": 0, "total": 0}}, "off_hours": {"jira": 0, "git": 0, "total": 0}, "daily_total": {"jira": 6, "git": 0, "total": 6}}, {"name": "Edgar Velasco", "email": "edgar.calderon@telus.com", "buckets": {"8am-10am": {"jira": 0, "git": 0, "total": 0}, "10am-12pm": {"jira": 4, "git": 0, "total": 4}, "12pm-2pm": {"jira": 0, "git": 0, "total": 0}, "2pm-4pm": {"jira": 0, "git": 0, "total": 0}, "4pm-6pm": {"jira": 0, "git": 0, "total": 0}}, "off_hours": {"jira": 0, "git": 0, "total": 0}, "daily_total": {"jira": 4, "git": 0, "total": 4}}, {"name": "Diego Palacios", "email": "diego.palacios@telus.com", "buckets": {"8am-10am": {"jira": 0, "git": 0, "total": 0}, "10am-12pm": {"jira": 1, "git": 1, "total": 2}, "12pm-2pm": {"jira": 0, "git": 0, "total": 0}, "2pm-4pm": {"jira": 0, "git": 0, "total": 0}, "4pm-6pm": {"jira": 0, "git": 0, "total": 0}}, "off_hours": {"jira": 0, "git": 0, "total": 0}, "daily_total": {"jira": 1, "git": 1, "total": 2}}, {"name": "Daniel Quan", "email": "daniel.quan@telus.com", "buckets": {"8am-10am": {"jira": 0, "git": 0, "total": 0}, "10am-12pm": {"jira": 0, "git": 0, "total": 0}, "12pm-2pm": {"jira": 0, "git": 0, "total": 0}, "2pm-4pm": {"jira": 0, "git": 0, "total": 0}, "4pm-6pm": {"jira": 0, "git": 0, "total": 0}}, "off_hours": {"jira": 0, "git": 0, "total": 0}, "daily_total": {"jira": 0, "git": 0, "total": 0}}], "summary": {"total_developers": 4, "total_activity": 12, "total_jira_actions": 11, "total_repo_actions": 1, "most_active_bucket": "10am-12pm", "off_hours_activity": 0, "off_hours_percentage": 0.0, "bucket_totals": {"8am-10am": 0, "10am-12pm": 12, "12pm-2pm": 0, "2pm-4pm": 0, "4pm-6pm": 0, "off_hours": 0}}})
            .then((reportData) => {
              setData(reportData);
              setLoading(false);
            })
            .catch((err) => {
              console.error("Error loading data:", err);
              setLoading(false);
            });
        }, []);

        if (loading) {
          return (
            <div className="min-h-screen flex items-center justify-center">
              <div className="text-xl text-telus-purple">Loading...</div>
            </div>
          );
        }

        if (!data) {
          return (
            <div className="min-h-screen flex items-center justify-center">
              <div className="text-xl text-red-500">Failed to load data</div>
            </div>
          );
        }

        // Prepare chart data
        console.log(
          "DEBUG: Creating bucketActivityData with time_buckets:",
          data.metadata.time_buckets,
        );
        const bucketActivityData = {
          labels: data.metadata.time_buckets
            .map((b) => bucketDisplayNames[b] || b)
            .concat(["Off-Hours"]),
          datasets: [
            {
              label: "Jira Actions",
              data: [
                ...data.metadata.time_buckets.map((bucket) =>
                  data.developers.reduce(
                    (sum, dev) => sum + (dev.buckets[bucket]?.jira || 0),
                    0,
                  ),
                ),
                data.developers.reduce(
                  (sum, dev) => sum + dev.off_hours.jira,
                  0,
                ),
              ],
              backgroundColor: "#4B0082",
              borderColor: "#4B0082",
              borderWidth: 1,
            },
            {
              label: "Repo Actions",
              data: [
                ...data.metadata.time_buckets.map((bucket) =>
                  data.developers.reduce(
                    (sum, dev) => sum + (dev.buckets[bucket]?.git || 0),
                    0,
                  ),
                ),
                data.developers.reduce(
                  (sum, dev) => sum + dev.off_hours.git,
                  0,
                ),
              ],
              backgroundColor: "#66CC00",
              borderColor: "#66CC00",
              borderWidth: 1,
            },
          ],
        };
        console.log(
          "DEBUG: bucketActivityData created:",
          JSON.stringify(bucketActivityData, null, 2),
        );

        const offHoursData = {
          labels: ["Regular Hours", "Off-Hours"],
          values: [
            data.summary.total_activity - data.summary.off_hours_activity,
            data.summary.off_hours_activity,
          ],
        };

        const developerComparisonData = {
          labels: data.developers
            .slice(0, 10)
            .map((d) => d.name.split(" ")[0]),
          datasets: [
            {
              label: "Jira",
              data: data.developers
                .slice(0, 10)
                .map((d) => d.daily_total.jira),
              backgroundColor: "#4B0082",
            },
            {
              label: "Repo",
              data: data.developers
                .slice(0, 10)
                .map((d) => d.daily_total.git),
              backgroundColor: "#66CC00",
            },
          ],
        };

        return (
          <div className="min-h-screen bg-gray-50">
            {/* Header */}
            <div className="gradient-bg text-white py-12">
              <div className="container mx-auto px-6">
                <h1 className="text-4xl font-bold mb-4">
                  Daily Activity Report
                </h1>
                <p className="text-xl opacity-90">
                  Report Date: {data.metadata.report_date} • Timezone:{" "}
                  {data.metadata.timezone}
                </p>
              </div>
            </div>

            <div className="container mx-auto px-6 py-8">
              {/* Summary Cards */}
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
                <div className="card-hover bg-white rounded-xl shadow-lg p-6 border-l-4 border-telus-purple">
                  <div className="text-gray-600 text-sm">Total Developers</div>
                  <div className="text-3xl font-bold text-telus-purple">
                    {data.summary.total_developers}
                  </div>
                </div>
                <div className="card-hover bg-white rounded-xl shadow-lg p-6 border-l-4 border-telus-green">
                  <div className="text-gray-600 text-sm">Total Activity</div>
                  <div className="text-3xl font-bold text-telus-green">
                    {data.summary.total_activity}
                  </div>
                </div>
                <div className="card-hover bg-white rounded-xl shadow-lg p-6 border-l-4 border-telus-blue">
                  <div className="text-gray-600 text-sm">
                    Most Active Bucket
                  </div>
                  <div className="text-xl font-bold text-telus-blue">
                    {bucketDisplayNames[data.summary.most_active_bucket] ||
                      data.summary.most_active_bucket}
                  </div>
                </div>
                <div className="card-hover bg-white rounded-xl shadow-lg p-6 border-l-4 border-orange-500">
                  <div className="text-gray-600 text-sm">
                    Off-Hours Activity
                  </div>
                  <div className="text-3xl font-bold text-orange-500">
                    {data.summary.off_hours_percentage}%
                  </div>
                </div>
              </div>

              {/* Activity Heatmap */}
              <div className="card-hover bg-white rounded-xl shadow-lg p-6 mb-12">
                <h2 className="text-2xl font-bold text-telus-purple mb-4">
                  Activity Heatmap
                </h2>
                <ActivityHeatmap
                  developers={data.developers}
                  bucketDisplayNames={bucketDisplayNames}
                />
              </div>

              {/* Charts */}
              <div className="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
                <div className="card-hover bg-white rounded-xl shadow-lg p-6">
                  <BarChart
                    data={bucketActivityData}
                    title="Activity by Time Bucket"
                  />
                </div>
                <div className="card-hover bg-white rounded-xl shadow-lg p-6">
                  <DoughnutChart
                    data={offHoursData}
                    title="Regular vs Off-Hours Activity"
                  />
                </div>
              </div>

              <div className="card-hover bg-white rounded-xl shadow-lg p-6 mb-12">
                <BarChart
                  data={developerComparisonData}
                  title="Ranking - Jira vs Repo Activity"
                />
              </div>
            </div>

            {/* Footer */}
            <div className="mt-16 text-center text-gray-600 pb-8">
              <p className="text-sm">
                📅 Daily Activity Report • Built with React & TailwindCSS
              </p>
              <p className="text-xs mt-2 opacity-75">
                Generated by{" "}
                <a
                  className="text-blue-500 underline hover:text-blue-700"
                  href="https://github.com/JDGTelus/sdm-tools"
                >
                  SDM Tools
                </a>
              </p>
            </div>
          </div>
        );
      };


      // ==================== Sprint Activity Dashboard ====================
// Developer color palette (7 distinct colors)
      const DEVELOPER_COLORS = [
        '#4B0082',  // TELUS Purple
        '#66CC00',  // TELUS Green
        '#0066CC',  // TELUS Blue
        '#FF6B6B',  // Red
        '#FFB347',  // Orange
        '#9B59B6',  // Purple
        '#1ABC9C',  // Teal
      ];

      // Average line colors
      const SPRINT_AVG_COLOR = '#FF0000';      // Red for sprint average
      const OVERALL_AVG_COLOR = '#000000';     // Black for overall average

      // Line Chart Component with Enhanced Features
      const LineChart = ({ data, title, metricType, fullSprintData }) => {
        const chartRef = useRef(null);
        const chartInstance = useRef(null);
        const tooltipRef = useRef(null);

        useEffect(() => {
          if (!chartRef.current || !data || !fullSprintData) return;
          if (chartInstance.current) chartInstance.current.destroy();

          // Create tooltip element if it doesn't exist
          if (!tooltipRef.current) {
            tooltipRef.current = document.createElement('div');
            tooltipRef.current.className = 'chart-tooltip';
            document.body.appendChild(tooltipRef.current);
          }

          const buildDeveloperTooltip = (developerName, sprintData, metric) => {
            // Find developer's data across all sprints
            const devData = sprintData.sprints.map(sprint => {
              const dev = sprint.developer_summary.find(d => d.name === developerName);
              if (!dev) return null;

              return {
                sprintName: sprint.sprint.name.replace('DevicesTITAN_', ''),
                jira: dev.sprint_jira,
                git: dev.sprint_git,
                total: dev.sprint_total
              };
            }).filter(Boolean);

            // Calculate total
            const total = devData.reduce((sum, d) => sum + d[metric], 0);

            // Build HTML
            let html = `<div class="tooltip-header">${developerName}</div>`;

            devData.forEach(d => {
              const value = metric === 'total' ? d.total : (metric === 'jira' ? d.jira : d.git);
              const extra = metric === 'total' ? ` (J:${d.jira}, R:${d.git})` : '';
              html += `
                <div class="tooltip-row">
                  <span class="sprint-name">${d.sprintName}:</span>
                  <span class="sprint-data">${value}${extra}</span>
                </div>
              `;
            });

            html += `<div class="tooltip-total">Total: ${total} actions</div>`;

            return html;
          };

          const buildAverageTooltip = (label, value, sprintData, metricType) => {
            // For Sprint Average, show all datapoint values
            if (label === 'Sprint Average') {
              // Calculate per-sprint averages
              const sprintAverages = sprintData.sprints.map(sprint => {
                const values = sprint.developer_summary.map(dev => {
                  switch(metricType) {
                    case 'jira': return dev.sprint_jira;
                    case 'git': return dev.sprint_git;
                    case 'total': return dev.sprint_total;
                    default: return 0;
                  }
                });
                const avg = values.reduce((sum, v) => sum + v, 0) / values.length;
                return {
                  sprintName: sprint.sprint.name.replace('DevicesTITAN_', ''),
                  average: avg
                };
              });

              // Build HTML with all sprint averages
              let html = `<div class="tooltip-header">${label}</div>`;

              sprintAverages.forEach(s => {
                html += `
                  <div class="tooltip-row">
                    <span class="sprint-name">${s.sprintName}:</span>
                    <span class="sprint-data">${s.average.toFixed(1)}</span>
                  </div>
                `;
              });

              const totalAvg = sprintAverages.reduce((sum, s) => sum + s.average, 0) / sprintAverages.length;
              html += `<div class="tooltip-total">Overall Avg: ${totalAvg.toFixed(1)} actions</div>`;

              return html;
            } else {
              // For Overall Average, keep simple single value display
              return `<div class="tooltip-average">${label}<br/>${value.toFixed(1)} actions</div>`;
            }
          };

          const ctx = chartRef.current.getContext("2d");
          chartInstance.current = new Chart(ctx, {
            type: "line",
            data: {
              labels: data.labels,
              datasets: data.datasets,
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              interaction: {
                mode: 'dataset',
                intersect: false
              },
              plugins: {
                legend: {
                  display: true,
                  position: 'right',
                  labels: {
                    usePointStyle: true,
                    padding: 12,
                    font: { size: 13, weight: '500' }
                  }
                },
                title: {
                  display: true,
                  text: title,
                  font: { size: 20, weight: 'bold' },
                  color: '#1f2937',
                  padding: { top: 10, bottom: 15 }
                },
                tooltip: {
                  enabled: false,
                  external: (context) => {
                    const tooltipEl = tooltipRef.current;
                    const tooltipModel = context.tooltip;

                    if (tooltipModel.opacity === 0) {
                      tooltipEl.style.display = 'none';
                      return;
                    }

                    if (tooltipModel.dataPoints && tooltipModel.dataPoints.length > 0) {
                      const datasetIndex = tooltipModel.dataPoints[0].datasetIndex;
                      const dataset = data.datasets[datasetIndex];

                      // Check if it's an average line
                      if (dataset.isAverage) {
                        const avgValue = tooltipModel.dataPoints[0].parsed.y;
                        tooltipEl.innerHTML = buildAverageTooltip(dataset.label, avgValue, fullSprintData, metricType);
                      } else {
                        tooltipEl.innerHTML = buildDeveloperTooltip(
                          dataset.label,
                          fullSprintData,
                          metricType
                        );
                      }

                      const position = context.chart.canvas.getBoundingClientRect();
                      tooltipEl.style.display = 'block';
                      tooltipEl.style.left = position.left + window.pageXOffset + tooltipModel.caretX + 'px';
                      tooltipEl.style.top = position.top + window.pageYOffset + tooltipModel.caretY + 'px';
                    }
                  }
                }
              },
              scales: {
                x: {
                  title: {
                    display: true,
                    text: 'Sprint',
                    font: { size: 14, weight: 'bold' }
                  },
                  ticks: {
                    maxRotation: 45,
                    minRotation: 45,
                    font: { size: 12 }
                  },
                  grid: { color: '#e5e7eb' }
                },
                y: {
                  beginAtZero: true,
                  title: {
                    display: true,
                    text: 'Actions',
                    font: { size: 14, weight: 'bold' }
                  },
                  ticks: {
                    color: '#6b7280',
                    font: { size: 12 }
                  },
                  grid: { color: '#e5e7eb' }
                }
              },
              onHover: (event, activeElements, chart) => {
                if (activeElements.length > 0) {
                  const datasetIndex = activeElements[0].datasetIndex;

                  chart.data.datasets.forEach((dataset, idx) => {
                    if (idx === datasetIndex) {
                      // Hovered line: moderately thicker and solid
                      dataset.borderWidth = 3;
                      dataset.pointRadius = 4;
                      dataset.borderDash = [];  // Solid line
                    } else {
                      // Non-hovered lines: normal width, stay dashed
                      dataset.borderWidth = 1.5;
                      dataset.pointRadius = 2;
                      dataset.borderDash = dataset.defaultBorderDash || [];
                    }
                  });

                  chart.update('none');
                } else {
                  // Reset all to default when not hovering
                  chart.data.datasets.forEach(dataset => {
                    dataset.borderWidth = 1.5;
                    dataset.pointRadius = 2;
                    dataset.borderDash = dataset.defaultBorderDash || [];
                  });
                  chart.update('none');
                }
              }
            },
          });

          return () => {
            if (chartInstance.current) chartInstance.current.destroy();
            if (tooltipRef.current) {
              tooltipRef.current.style.display = 'none';
            }
          };
        }, [data, title, metricType, fullSprintData]);

        return <canvas ref={chartRef} className="w-full" style={{ height: '450px' }}></canvas>;
      };

      // Sprint Activity Table Component (Heatmap style) with Updated Colors
      const SprintActivityTable = ({ tableData }) => {
        if (!tableData) return null;

        const getActivityColor = (total) => {
          // Using transparent blues, greens, and yellows only - greens and blues less transparent
          if (total === 0) return {
            className: 'text-gray-400',
            style: { backgroundColor: 'rgba(249, 250, 251, 0.5)' }
          };
          if (total >= 50) return {
            className: 'text-gray-900',
            style: { backgroundColor: 'rgba(134, 239, 172, 0.6)' }  // Green (top) - less transparent
          };
          if (total >= 30) return {
            className: 'text-gray-900',
            style: { backgroundColor: 'rgba(187, 247, 208, 0.55)' }  // Green (upper) - less transparent
          };
          if (total >= 15) return {
            className: 'text-gray-900',
            style: { backgroundColor: 'rgba(254, 249, 195, 0.5)' }  // Yellow (middle) - unchanged
          };
          if (total >= 5) return {
            className: 'text-gray-900',
            style: { backgroundColor: 'rgba(191, 219, 254, 0.6)' }  // Blue (lower) - less transparent
          };
          return {
            className: 'text-gray-700',
            style: { backgroundColor: 'rgba(219, 234, 254, 0.5)' }  // Blue (bottom) - less transparent
          };
        };

        return (
          <div className="bg-white rounded-lg shadow-lg overflow-hidden mb-8">
            <div className="px-6 py-4 bg-gradient-to-r from-telus-purple to-telus-light-purple">
              <h3 className="text-xl font-bold text-white">Sprint Activity Heatmap</h3>
              <p className="text-sm text-white opacity-90 mt-1">Activity breakdown by developer and sprint</p>
            </div>
            <div className="overflow-x-auto">
              <table className="min-w-full divide-y divide-gray-200">
                <thead className="bg-gray-50">
                  <tr>
                    <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sticky left-0 bg-gray-50">
                      Developer
                    </th>
                    {tableData.sprints.map((sprint) => (
                      <th key={sprint.id} className="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">
                        <div className="whitespace-normal" style={{ maxWidth: '100px', lineHeight: '1.2' }}>
                          {sprint.name.replace('DevicesTITAN_', '')}
                        </div>
                      </th>
                    ))}
                    <th className="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-100">
                      Total
                    </th>
                  </tr>
                </thead>
                <tbody className="bg-white divide-y divide-gray-200">
                  {tableData.developers.map((dev) => (
                    <tr key={dev.email} className="hover:bg-gray-50">
                      <td className="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 sticky left-0 bg-white">
                        {dev.name}
                      </td>
                      {tableData.sprints.map((sprint) => {
                        const sprintData = dev.sprintData[sprint.id] || { total: 0, jira: 0, git: 0 };
                        const colorData = getActivityColor(sprintData.total);
                        return (
                          <td
                            key={sprint.id}
                            className={`px-2 py-2 text-center ${colorData.className}`}
                            style={colorData.style}
                          >
                            <div className="text-sm font-bold">{sprintData.total || '-'}</div>
                            {sprintData.total > 0 && (
                              <div className="text-xs opacity-80">
                                J:{sprintData.jira} R:{sprintData.git}
                              </div>
                            )}
                          </td>
                        );
                      })}
                      <td className="px-4 py-3 text-center bg-gray-100 font-bold text-gray-900">
                        {dev.total}
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
            <div className="px-6 py-3 bg-gray-50 border-t border-gray-200">
              <div className="flex items-center gap-4 text-xs text-gray-600">
                <span className="font-semibold">Legend:</span>
                <span className="flex items-center gap-1">
                  <span className="w-4 h-4 inline-block" style={{backgroundColor: 'rgba(134, 239, 172, 0.6)'}}></span> 50+
                </span>
                <span className="flex items-center gap-1">
                  <span className="w-4 h-4 inline-block" style={{backgroundColor: 'rgba(187, 247, 208, 0.55)'}}></span> 30-49
                </span>
                <span className="flex items-center gap-1">
                  <span className="w-4 h-4 inline-block" style={{backgroundColor: 'rgba(254, 249, 195, 0.5)'}}></span> 15-29
                </span>
                <span className="flex items-center gap-1">
                  <span className="w-4 h-4 inline-block" style={{backgroundColor: 'rgba(191, 219, 254, 0.6)'}}></span> 5-14
                </span>
                <span className="flex items-center gap-1">
                  <span className="w-4 h-4 inline-block" style={{backgroundColor: 'rgba(219, 234, 254, 0.5)'}}></span> 1-4
                </span>
              </div>
            </div>
          </div>
        );
      };

      // Main Dashboard Component
      const SprintActivityDashboard = () => {
        const [data, setData] = useState(null);
        const [loading, setLoading] = useState(true);
        const [chartData, setChartData] = useState(null);
        const [tableData, setTableData] = useState(null);

        // Prepare line chart data with average lines
        const prepareLineChartData = (report, metricType) => {
          // Reverse sprints so oldest is first (left), newest is last (right)
          const reversedSprints = [...report.sprints].reverse();
          const sprintLabels = reversedSprints.map(s => s.sprint.name.replace('DevicesTITAN_', ''));

          const developerEmails = [
            ...new Set(
              reversedSprints.flatMap(s =>
                s.developer_summary.map(d => d.email)
              )
            )
          ];

          // Create dataset for each developer (dashed lines)
          const datasets = developerEmails.map((email, idx) => {
            const devName = reversedSprints
              .flatMap(s => s.developer_summary)
              .find(d => d.email === email)?.name || email;

            const data = reversedSprints.map(sprint => {
              const dev = sprint.developer_summary.find(d => d.email === email);
              if (!dev) return 0;

              switch(metricType) {
                case 'jira': return dev.sprint_jira;
                case 'git': return dev.sprint_git;
                case 'total': return dev.sprint_total;
                default: return 0;
              }
            });

            return {
              label: devName,
              data: data,
              borderColor: DEVELOPER_COLORS[idx % DEVELOPER_COLORS.length],
              backgroundColor: DEVELOPER_COLORS[idx % DEVELOPER_COLORS.length],
              borderWidth: 1.5,  // Thinner lines
              tension: 0,  // Straight lines (not curved)
              borderDash: [5, 5],  // Dashed line
              defaultBorderDash: [5, 5],
              pointRadius: 2,
              pointHoverRadius: 4,
              pointBackgroundColor: DEVELOPER_COLORS[idx % DEVELOPER_COLORS.length],
              isAverage: false
            };
          });

          // Calculate sprint averages (average per sprint across all developers)
          const sprintAverages = reversedSprints.map(sprint => {
            const values = sprint.developer_summary.map(dev => {
              switch(metricType) {
                case 'jira': return dev.sprint_jira;
                case 'git': return dev.sprint_git;
                case 'total': return dev.sprint_total;
                default: return 0;
              }
            });
            return values.reduce((sum, v) => sum + v, 0) / values.length;
          });

          // Calculate overall average (average across all sprints and developers)
          const allValues = reversedSprints.flatMap(sprint =>
            sprint.developer_summary.map(dev => {
              switch(metricType) {
                case 'jira': return dev.sprint_jira;
                case 'git': return dev.sprint_git;
                case 'total': return dev.sprint_total;
                default: return 0;
              }
            })
          );
          const overallAverage = allValues.reduce((sum, v) => sum + v, 0) / allValues.length;
          const overallAverages = new Array(reversedSprints.length).fill(overallAverage);

          // Add sprint average line (red, dashed)
          datasets.push({
            label: 'Sprint Average',
            data: sprintAverages,
            borderColor: SPRINT_AVG_COLOR,
            backgroundColor: SPRINT_AVG_COLOR,
            borderWidth: 1.5,  // Thinner
            tension: 0,
            borderDash: [10, 5],  // Dashed
            defaultBorderDash: [10, 5],
            pointRadius: 2,
            pointHoverRadius: 4,
            pointBackgroundColor: SPRINT_AVG_COLOR,
            isAverage: true
          });

          // Add overall average line (black, dashed)
          datasets.push({
            label: 'Overall Average',
            data: overallAverages,
            borderColor: OVERALL_AVG_COLOR,
            backgroundColor: OVERALL_AVG_COLOR,
            borderWidth: 1.5,  // Thinner
            tension: 0,
            borderDash: [3, 3],  // Dashed
            defaultBorderDash: [3, 3],
            pointRadius: 0,  // No points for overall average
            pointHoverRadius: 2,
            pointBackgroundColor: OVERALL_AVG_COLOR,
            isAverage: true
          });

          return {
            labels: sprintLabels,
            datasets: datasets
          };
        };

        // Prepare sprint activity table data
        const prepareSprintTableData = (report) => {
          const developerMap = {};

          report.sprints.forEach(sprint => {
            sprint.developer_summary.forEach(dev => {
              if (!developerMap[dev.email]) {
                developerMap[dev.email] = {
                  name: dev.name,
                  email: dev.email,
                  sprintData: {},
                  total: 0,
                  totalJira: 0,
                  totalGit: 0
                };
              }

              developerMap[dev.email].sprintData[sprint.sprint.id] = {
                total: dev.sprint_total,
                jira: dev.sprint_jira,
                git: dev.sprint_git
              };

              developerMap[dev.email].total += dev.sprint_total;
              developerMap[dev.email].totalJira += dev.sprint_jira;
              developerMap[dev.email].totalGit += dev.sprint_git;
            });
          });

          return {
            developers: Object.values(developerMap).sort((a, b) => b.total - a.total),
            sprints: report.sprints.map(s => ({
              id: s.sprint.id,
              name: s.sprint.name
            })).reverse()
          };
        };

        useEffect(() => {
          /* Inlined data from ./data/sprint_activity_report.json */
          Promise.resolve({"generated_at": "2025-12-02T11:53:20.082476-06:00", "report_type": "multi_sprint", "metadata": {"sprint_count": 10, "requested_limit": 10, "earliest_sprint": {"id": 159211, "name": "DevicesTITAN_Sprint 64", "start_date": "2025-07-16"}, "latest_sprint": {"id": 163232, "name": "DevicesTITAN_Sprint 73", "start_date": "2025-11-19"}}, "sprints": [{"sprint": {"id": 163232, "name": "DevicesTITAN_Sprint 73", "state": "active", "start_date": "2025-11-19", "end_date": "2025-12-03", "days_count": 15, "days_elapsed": 11}, "daily_breakdown": [{"date": "2025-11-19", "total_activity": 8, "jira_actions": 4, "git_actions": 4, "active_developers": 2}, {"date": "2025-11-20", "total_activity": 10, "jira_actions": 3, "git_actions": 7, "active_developers": 2}, {"date": "2025-11-21", "total_activity": 9, "jira_actions": 1, "git_actions": 8, "active_developers": 3}, {"date": "2025-11-23", "total_activity": 1, "jira_actions": 0, "git_actions": 1, "active_developers": 1}, {"date": "2025-11-24", "total_activity": 20, "jira_actions": 9, "git_actions": 11, "active_developers": 4}, {"date": "2025-11-25", "total_activity": 25, "jira_actions": 5, "git_actions": 20, "active_developers": 3}, {"date": "2025-11-26", "total_activity": 11, "jira_actions": 6, "git_actions": 5, "active_developers": 3}, {"date": "2025-11-27", "total_activity": 13, "jira_actions": 1, "git_actions": 12, "active_developers": 3}, {"date": "2025-11-28", "total_activity": 15, "jira_actions": 6, "git_actions": 9, "active_developers": 4}, {"date": "2025-12-01", "total_activity": 15, "jira_actions": 4, "git_actions": 11, "active_developers": 3}, {"date": "2025-12-02", "total_activity": 12, "jira_actions": 11, "git_actions": 1, "active_developers": 3}], "developer_summary": [{"name": "Henry Molina", "email": "henry.molina@telus.com", "sprint_total": 72, "sprint_jira": 25, "sprint_git": 47, "days_active": 11, "avg_per_day": 6.5}, {"name": "Edgar Velasco", "email": "edgar.calderon@telus.com", "sprint_total": 31, "sprint_jira": 12, "sprint_git": 19, "days_active": 6, "avg_per_day": 5.2}, {"name": "Diego Palacios", "email": "diego.palacios@telus.com", "sprint_total": 21, "sprint_jira": 7, "sprint_git": 14, "days_active": 8, "avg_per_day": 2.6}, {"name": "Daniel Quan", "email": "daniel.quan@telus.com", "sprint_total": 15, "sprint_jira": 6, "sprint_git": 9, "days_active": 6, "avg_per_day": 2.5}], "summary": {"sprint_total_activity": 139, "avg_daily_activity": 12.6, "most_active_day": "2025-11-25", "most_active_developer": "Henry Molina"}}, {"sprint": {"id": 163231, "name": "DevicesTITAN_Sprint 72", "state": "closed", "start_date": "2025-11-05", "end_date": "2025-11-18", "days_count": 14, "days_elapsed": 11}, "daily_breakdown": [{"date": "2025-11-05", "total_activity": 4, "jira_actions": 3, "git_actions": 1, "active_developers": 2}, {"date": "2025-11-06", "total_activity": 6, "jira_actions": 5, "git_actions": 1, "active_developers": 2}, {"date": "2025-11-07", "total_activity": 3, "jira_actions": 1, "git_actions": 2, "active_developers": 2}, {"date": "2025-11-10", "total_activity": 13, "jira_actions": 0, "git_actions": 13, "active_developers": 2}, {"date": "2025-11-11", "total_activity": 4, "jira_actions": 0, "git_actions": 4, "active_developers": 1}, {"date": "2025-11-12", "total_activity": 4, "jira_actions": 3, "git_actions": 1, "active_developers": 2}, {"date": "2025-11-13", "total_activity": 14, "jira_actions": 5, "git_actions": 9, "active_developers": 3}, {"date": "2025-11-14", "total_activity": 2, "jira_actions": 2, "git_actions": 0, "active_developers": 1}, {"date": "2025-11-16", "total_activity": 2, "jira_actions": 2, "git_actions": 0, "active_developers": 1}, {"date": "2025-11-17", "total_activity": 7, "jira_actions": 1, "git_actions": 6, "active_developers": 2}, {"date": "2025-11-18", "total_activity": 14, "jira_actions": 11, "git_actions": 3, "active_developers": 3}], "developer_summary": [{"name": "Edgar Velasco", "email": "edgar.calderon@telus.com", "sprint_total": 26, "sprint_jira": 8, "sprint_git": 18, "days_active": 4, "avg_per_day": 6.5}, {"name": "Henry Molina", "email": "henry.molina@telus.com", "sprint_total": 21, "sprint_jira": 11, "sprint_git": 10, "days_active": 7, "avg_per_day": 3.0}, {"name": "Diego Palacios", "email": "diego.palacios@telus.com", "sprint_total": 20, "sprint_jira": 8, "sprint_git": 12, "days_active": 7, "avg_per_day": 2.9}, {"name": "Daniel Quan", "email": "daniel.quan@telus.com", "sprint_total": 6, "sprint_jira": 6, "sprint_git": 0, "days_active": 3, "avg_per_day": 2.0}], "summary": {"sprint_total_activity": 73, "avg_daily_activity": 6.6, "most_active_day": "2025-11-13", "most_active_developer": "Edgar Velasco"}}, {"sprint": {"id": 161877, "name": "DevicesTITAN_Sprint 71", "state": "closed", "start_date": "2025-10-22", "end_date": "2025-11-04", "days_count": 14, "days_elapsed": 9}, "daily_breakdown": [{"date": "2025-10-22", "total_activity": 8, "jira_actions": 0, "git_actions": 8, "active_developers": 2}, {"date": "2025-10-23", "total_activity": 6, "jira_actions": 0, "git_actions": 6, "active_developers": 2}, {"date": "2025-10-27", "total_activity": 2, "jira_actions": 0, "git_actions": 2, "active_developers": 1}, {"date": "2025-10-28", "total_activity": 1, "jira_actions": 0, "git_actions": 1, "active_developers": 1}, {"date": "2025-10-29", "total_activity": 4, "jira_actions": 0, "git_actions": 4, "active_developers": 2}, {"date": "2025-10-30", "total_activity": 11, "jira_actions": 2, "git_actions": 9, "active_developers": 2}, {"date": "2025-10-31", "total_activity": 9, "jira_actions": 5, "git_actions": 4, "active_developers": 3}, {"date": "2025-11-03", "total_activity": 5, "jira_actions": 2, "git_actions": 3, "active_developers": 3}, {"date": "2025-11-04", "total_activity": 15, "jira_actions": 10, "git_actions": 5, "active_developers": 3}], "developer_summary": [{"name": "Henry Molina", "email": "henry.molina@telus.com", "sprint_total": 25, "sprint_jira": 6, "sprint_git": 19, "days_active": 7, "avg_per_day": 3.6}, {"name": "Diego Palacios", "email": "diego.palacios@telus.com", "sprint_total": 23, "sprint_jira": 5, "sprint_git": 18, "days_active": 8, "avg_per_day": 2.9}, {"name": "Daniel Quan", "email": "daniel.quan@telus.com", "sprint_total": 11, "sprint_jira": 6, "sprint_git": 5, "days_active": 3, "avg_per_day": 3.7}, {"name": "Edgar Velasco", "email": "edgar.calderon@telus.com", "sprint_total": 2, "sprint_jira": 2, "sprint_git": 0, "days_active": 1, "avg_per_day": 2.0}], "summary": {"sprint_total_activity": 61, "avg_daily_activity": 6.8, "most_active_day": "2025-11-04", "most_active_developer": "Henry Molina"}}, {"sprint": {"id": 161221, "name": "DevicesTITAN_Sprint 70", "state": "closed", "start_date": "2025-10-08", "end_date": "2025-10-21", "days_count": 14, "days_elapsed": 8}, "daily_breakdown": [{"date": "2025-10-08", "total_activity": 6, "jira_actions": 2, "git_actions": 4, "active_developers": 2}, {"date": "2025-10-09", "total_activity": 11, "jira_actions": 3, "git_actions": 8, "active_developers": 2}, {"date": "2025-10-10", "total_activity": 8, "jira_actions": 3, "git_actions": 5, "active_developers": 2}, {"date": "2025-10-15", "total_activity": 13, "jira_actions": 9, "git_actions": 4, "active_developers": 2}, {"date": "2025-10-16", "total_activity": 5, "jira_actions": 4, "git_actions": 1, "active_developers": 1}, {"date": "2025-10-17", "total_activity": 7, "jira_actions": 4, "git_actions": 3, "active_developers": 2}, {"date": "2025-10-20", "total_activity": 2, "jira_actions": 0, "git_actions": 2, "active_developers": 1}, {"date": "2025-10-21", "total_activity": 3, "jira_actions": 0, "git_actions": 3, "active_developers": 2}], "developer_summary": [{"name": "Henry Molina", "email": "henry.molina@telus.com", "sprint_total": 29, "sprint_jira": 12, "sprint_git": 17, "days_active": 7, "avg_per_day": 4.1}, {"name": "Diego Palacios", "email": "diego.palacios@telus.com", "sprint_total": 17, "sprint_jira": 7, "sprint_git": 10, "days_active": 4, "avg_per_day": 4.2}, {"name": "Daniel Quan", "email": "daniel.quan@telus.com", "sprint_total": 9, "sprint_jira": 6, "sprint_git": 3, "days_active": 3, "avg_per_day": 3.0}], "summary": {"sprint_total_activity": 55, "avg_daily_activity": 6.9, "most_active_day": "2025-10-15", "most_active_developer": "Henry Molina"}}, {"sprint": {"id": 161188, "name": "DevicesTITAN_Sprint 69", "state": "closed", "start_date": "2025-09-24", "end_date": "2025-10-07", "days_count": 14, "days_elapsed": 10}, "daily_breakdown": [{"date": "2025-09-24", "total_activity": 2, "jira_actions": 2, "git_actions": 0, "active_developers": 1}, {"date": "2025-09-25", "total_activity": 1, "jira_actions": 0, "git_actions": 1, "active_developers": 1}, {"date": "2025-09-26", "total_activity": 14, "jira_actions": 4, "git_actions": 10, "active_developers": 2}, {"date": "2025-09-29", "total_activity": 4, "jira_actions": 3, "git_actions": 1, "active_developers": 2}, {"date": "2025-09-30", "total_activity": 5, "jira_actions": 0, "git_actions": 5, "active_developers": 3}, {"date": "2025-10-01", "total_activity": 1, "jira_actions": 1, "git_actions": 0, "active_developers": 1}, {"date": "2025-10-02", "total_activity": 9, "jira_actions": 0, "git_actions": 9, "active_developers": 1}, {"date": "2025-10-03", "total_activity": 16, "jira_actions": 9, "git_actions": 7, "active_developers": 3}, {"date": "2025-10-06", "total_activity": 5, "jira_actions": 1, "git_actions": 4, "active_developers": 1}, {"date": "2025-10-07", "total_activity": 18, "jira_actions": 14, "git_actions": 4, "active_developers": 2}], "developer_summary": [{"name": "Edgar Velasco", "email": "edgar.calderon@telus.com", "sprint_total": 29, "sprint_jira": 10, "sprint_git": 19, "days_active": 3, "avg_per_day": 9.7}, {"name": "Henry Molina", "email": "henry.molina@telus.com", "sprint_total": 20, "sprint_jira": 12, "sprint_git": 8, "days_active": 6, "avg_per_day": 3.3}, {"name": "Diego Palacios", "email": "diego.palacios@telus.com", "sprint_total": 20, "sprint_jira": 8, "sprint_git": 12, "days_active": 5, "avg_per_day": 4.0}, {"name": "Daniel Quan", "email": "daniel.quan@telus.com", "sprint_total": 6, "sprint_jira": 4, "sprint_git": 2, "days_active": 3, "avg_per_day": 2.0}], "summary": {"sprint_total_activity": 75, "avg_daily_activity": 7.5, "most_active_day": "2025-10-07", "most_active_developer": "Edgar Velasco"}}, {"sprint": {"id": 160917, "name": "DevicesTITAN_Sprint 68", "state": "closed", "start_date": "2025-09-10", "end_date": "2025-09-23", "days_count": 14, "days_elapsed": 7}, "daily_breakdown": [{"date": "2025-09-10", "total_activity": 20, "jira_actions": 0, "git_actions": 20, "active_developers": 3}, {"date": "2025-09-16", "total_activity": 3, "jira_actions": 0, "git_actions": 3, "active_developers": 2}, {"date": "2025-09-17", "total_activity": 11, "jira_actions": 10, "git_actions": 1, "active_developers": 3}, {"date": "2025-09-18", "total_activity": 2, "jira_actions": 0, "git_actions": 2, "active_developers": 1}, {"date": "2025-09-19", "total_activity": 1, "jira_actions": 0, "git_actions": 1, "active_developers": 1}, {"date": "2025-09-20", "total_activity": 1, "jira_actions": 1, "git_actions": 0, "active_developers": 1}, {"date": "2025-09-23", "total_activity": 3, "jira_actions": 2, "git_actions": 1, "active_developers": 2}], "developer_summary": [{"name": "Henry Molina", "email": "henry.molina@telus.com", "sprint_total": 18, "sprint_jira": 3, "sprint_git": 15, "days_active": 4, "avg_per_day": 4.5}, {"name": "Diego Palacios", "email": "diego.palacios@telus.com", "sprint_total": 14, "sprint_jira": 6, "sprint_git": 8, "days_active": 4, "avg_per_day": 3.5}, {"name": "Daniel Quan", "email": "daniel.quan@telus.com", "sprint_total": 5, "sprint_jira": 4, "sprint_git": 1, "days_active": 2, "avg_per_day": 2.5}, {"name": "Edgar Velasco", "email": "edgar.calderon@telus.com", "sprint_total": 4, "sprint_jira": 0, "sprint_git": 4, "days_active": 3, "avg_per_day": 1.3}], "summary": {"sprint_total_activity": 41, "avg_daily_activity": 5.9, "most_active_day": "2025-09-10", "most_active_developer": "Henry Molina"}}, {"sprint": {"id": 160496, "name": "DevicesTITAN_Sprint 67", "state": "closed", "start_date": "2025-08-27", "end_date": "2025-09-09", "days_count": 14, "days_elapsed": 7}, "daily_breakdown": [{"date": "2025-09-01", "total_activity": 3, "jira_actions": 0, "git_actions": 3, "active_developers": 2}, {"date": "2025-09-02", "total_activity": 2, "jira_actions": 0, "git_actions": 2, "active_developers": 2}, {"date": "2025-09-03", "total_activity": 1, "jira_actions": 0, "git_actions": 1, "active_developers": 1}, {"date": "2025-09-04", "total_activity": 6, "jira_actions": 2, "git_actions": 4, "active_developers": 3}, {"date": "2025-09-05", "total_activity": 4, "jira_actions": 1, "git_actions": 3, "active_developers": 2}, {"date": "2025-09-08", "total_activity": 6, "jira_actions": 1, "git_actions": 5, "active_developers": 2}, {"date": "2025-09-09", "total_activity": 10, "jira_actions": 1, "git_actions": 9, "active_developers": 2}], "developer_summary": [{"name": "Henry Molina", "email": "henry.molina@telus.com", "sprint_total": 12, "sprint_jira": 1, "sprint_git": 11, "days_active": 2, "avg_per_day": 6.0}, {"name": "Daniel Quan", "email": "daniel.quan@telus.com", "sprint_total": 7, "sprint_jira": 2, "sprint_git": 5, "days_active": 3, "avg_per_day": 2.3}, {"name": "Edgar Velasco", "email": "edgar.calderon@telus.com", "sprint_total": 7, "sprint_jira": 0, "sprint_git": 7, "days_active": 5, "avg_per_day": 1.4}, {"name": "Diego Palacios", "email": "diego.palacios@telus.com", "sprint_total": 6, "sprint_jira": 2, "sprint_git": 4, "days_active": 4, "avg_per_day": 1.5}], "summary": {"sprint_total_activity": 32, "avg_daily_activity": 4.6, "most_active_day": "2025-09-09", "most_active_developer": "Henry Molina"}}, {"sprint": {"id": 160220, "name": "DevicesTITAN_Sprint 66", "state": "closed", "start_date": "2025-08-13", "end_date": "2025-08-27", "days_count": 15, "days_elapsed": 12}, "daily_breakdown": [{"date": "2025-08-13", "total_activity": 28, "jira_actions": 27, "git_actions": 1, "active_developers": 2}, {"date": "2025-08-14", "total_activity": 8, "jira_actions": 1, "git_actions": 7, "active_developers": 3}, {"date": "2025-08-15", "total_activity": 9, "jira_actions": 0, "git_actions": 9, "active_developers": 3}, {"date": "2025-08-17", "total_activity": 8, "jira_actions": 4, "git_actions": 4, "active_developers": 1}, {"date": "2025-08-18", "total_activity": 10, "jira_actions": 1, "git_actions": 9, "active_developers": 3}, {"date": "2025-08-19", "total_activity": 3, "jira_actions": 0, "git_actions": 3, "active_developers": 2}, {"date": "2025-08-20", "total_activity": 11, "jira_actions": 2, "git_actions": 9, "active_developers": 2}, {"date": "2025-08-21", "total_activity": 9, "jira_actions": 3, "git_actions": 6, "active_developers": 2}, {"date": "2025-08-22", "total_activity": 1, "jira_actions": 1, "git_actions": 0, "active_developers": 1}, {"date": "2025-08-25", "total_activity": 3, "jira_actions": 0, "git_actions": 3, "active_developers": 2}, {"date": "2025-08-26", "total_activity": 2, "jira_actions": 1, "git_actions": 1, "active_developers": 2}, {"date": "2025-08-27", "total_activity": 25, "jira_actions": 22, "git_actions": 3, "active_developers": 3}], "developer_summary": [{"name": "Henry Molina", "email": "henry.molina@telus.com", "sprint_total": 65, "sprint_jira": 53, "sprint_git": 12, "days_active": 10, "avg_per_day": 6.5}, {"name": "Edgar Velasco", "email": "edgar.calderon@telus.com", "sprint_total": 37, "sprint_jira": 4, "sprint_git": 33, "days_active": 7, "avg_per_day": 5.3}, {"name": "Diego Palacios", "email": "diego.palacios@telus.com", "sprint_total": 12, "sprint_jira": 3, "sprint_git": 9, "days_active": 7, "avg_per_day": 1.7}, {"name": "Daniel Quan", "email": "daniel.quan@telus.com", "sprint_total": 3, "sprint_jira": 2, "sprint_git": 1, "days_active": 2, "avg_per_day": 1.5}], "summary": {"sprint_total_activity": 117, "avg_daily_activity": 9.8, "most_active_day": "2025-08-13", "most_active_developer": "Henry Molina"}}, {"sprint": {"id": 159823, "name": "DevicesTITAN_Sprint 65", "state": "closed", "start_date": "2025-07-30", "end_date": "2025-08-12", "days_count": 14, "days_elapsed": 8}, "daily_breakdown": [{"date": "2025-07-30", "total_activity": 20, "jira_actions": 16, "git_actions": 4, "active_developers": 1}, {"date": "2025-07-31", "total_activity": 6, "jira_actions": 2, "git_actions": 4, "active_developers": 2}, {"date": "2025-08-01", "total_activity": 3, "jira_actions": 0, "git_actions": 3, "active_developers": 1}, {"date": "2025-08-04", "total_activity": 1, "jira_actions": 1, "git_actions": 0, "active_developers": 1}, {"date": "2025-08-07", "total_activity": 1, "jira_actions": 0, "git_actions": 1, "active_developers": 1}, {"date": "2025-08-08", "total_activity": 1, "jira_actions": 0, "git_actions": 1, "active_developers": 1}, {"date": "2025-08-11", "total_activity": 9, "jira_actions": 0, "git_actions": 9, "active_developers": 2}, {"date": "2025-08-12", "total_activity": 6, "jira_actions": 3, "git_actions": 3, "active_developers": 3}], "developer_summary": [{"name": "Henry Molina", "email": "henry.molina@telus.com", "sprint_total": 28, "sprint_jira": 20, "sprint_git": 8, "days_active": 4, "avg_per_day": 7.0}, {"name": "Edgar Velasco", "email": "edgar.calderon@telus.com", "sprint_total": 15, "sprint_jira": 2, "sprint_git": 13, "days_active": 4, "avg_per_day": 3.8}, {"name": "Diego Palacios", "email": "diego.palacios@telus.com", "sprint_total": 4, "sprint_jira": 0, "sprint_git": 4, "days_active": 4, "avg_per_day": 1.0}], "summary": {"sprint_total_activity": 47, "avg_daily_activity": 5.9, "most_active_day": "2025-07-30", "most_active_developer": "Henry Molina"}}, {"sprint": {"id": 159211, "name": "DevicesTITAN_Sprint 64", "state": "closed", "start_date": "2025-07-16", "end_date": "2025-07-29", "days_count": 14, "days_elapsed": 10}, "daily_breakdown": [{"date": "2025-07-16", "total_activity": 18, "jira_actions": 9, "git_actions": 9, "active_developers": 2}, {"date": "2025-07-17", "total_activity": 3, "jira_actions": 0, "git_actions": 3, "active_developers": 1}, {"date": "2025-07-18", "total_activity": 3, "jira_actions": 0, "git_actions": 3, "active_developers": 1}, {"date": "2025-07-21", "total_activity": 4, "jira_actions": 0, "git_actions": 4, "active_developers": 3}, {"date": "2025-07-22", "total_activity": 7, "jira_actions": 0, "git_actions": 7, "active_developers": 2}, {"date": "2025-07-23", "total_activity": 4, "jira_actions": 0, "git_actions": 4, "active_developers": 3}, {"date": "2025-07-24", "total_activity": 6, "jira_actions": 0, "git_actions": 6, "active_developers": 3}, {"date": "2025-07-25", "total_activity": 3, "jira_actions": 0, "git_actions": 3, "active_developers": 1}, {"date": "2025-07-28", "total_activity": 7, "jira_actions": 0, "git_actions": 7, "active_developers": 2}, {"date": "2025-07-29", "total_activity": 4, "jira_actions": 0, "git_actions": 4, "active_developers": 1}], "developer_summary": [{"name": "Henry Molina", "email": "henry.molina@telus.com", "sprint_total": 28, "sprint_jira": 9, "sprint_git": 19, "days_active": 7, "avg_per_day": 4.0}, {"name": "Edgar Velasco", "email": "edgar.calderon@telus.com", "sprint_total": 23, "sprint_jira": 0, "sprint_git": 23, "days_active": 7, "avg_per_day": 3.3}, {"name": "Diego Palacios", "email": "diego.palacios@telus.com", "sprint_total": 8, "sprint_jira": 0, "sprint_git": 8, "days_active": 5, "avg_per_day": 1.6}], "summary": {"sprint_total_activity": 59, "avg_daily_activity": 5.9, "most_active_day": "2025-07-16", "most_active_developer": "Henry Molina"}}], "overall_summary": {"total_sprints": 10, "total_activity": 699, "avg_per_sprint": 69.9, "most_active_sprint": {"id": 163232, "name": "DevicesTITAN_Sprint 73", "activity": 139}, "unique_developers": 4, "developer_participation": [{"name": "Henry Molina", "email": "henry.molina@telus.com", "total_activity": 318, "sprints_participated": 10}, {"name": "Edgar Velasco", "email": "edgar.calderon@telus.com", "total_activity": 174, "sprints_participated": 9}, {"name": "Diego Palacios", "email": "diego.palacios@telus.com", "total_activity": 145, "sprints_participated": 10}, {"name": "Daniel Quan", "email": "daniel.quan@telus.com", "total_activity": 62, "sprints_participated": 8}]}})
            .then((reportData) => {
              setData(reportData);

              // Prepare chart data
              const jiraData = prepareLineChartData(reportData, 'jira');
              const gitData = prepareLineChartData(reportData, 'git');
              const totalData = prepareLineChartData(reportData, 'total');

              setChartData({ jiraData, gitData, totalData });

              // Prepare table data
              const sprintTable = prepareSprintTableData(reportData);
              setTableData(sprintTable);

              setLoading(false);
            })
            .catch((err) => {
              console.error("Error loading data:", err);
              setLoading(false);
            });
        }, []);

        if (loading) {
          return (
            <div className="min-h-screen flex items-center justify-center">
              <div className="text-xl text-telus-purple">Loading Sprint Activity Data...</div>
            </div>
          );
        }

        if (!data) {
          return (
            <div className="min-h-screen flex items-center justify-center">
              <div className="text-xl text-red-500">Failed to load sprint activity data</div>
            </div>
          );
        }

        return (
          <div className="min-h-screen bg-gray-50">
            {/* Header */}
            <div className="gradient-bg text-white py-12">
              <div className="container mx-auto px-6">
                <h1 className="text-4xl font-bold mb-4">
                  Sprint Activity Dashboard
                </h1>
                <p className="text-xl opacity-90">
                  Last {data.metadata.sprint_count} Sprint{data.metadata.sprint_count !== 1 ? 's' : ''}
                  {' '}({data.metadata.earliest_sprint.start_date} to {data.metadata.latest_sprint.start_date})
                </p>
                <p className="text-sm mt-2 opacity-75">
                  Generated: {new Date(data.generated_at).toLocaleString()}
                </p>
              </div>
            </div>

            <div className="container mx-auto px-6 py-8">
              {/* Three Line Charts with Enhanced Tooltips - Responsive Grid */}
              <div className="grid grid-cols-1 xl:grid-cols-2 gap-6 mb-8">
              <div className="bg-white rounded-lg shadow-lg p-6">
                <LineChart
                  data={chartData.jiraData}
                  title="Jira Actions by Sprint"
                  metricType="jira"
                  fullSprintData={data}
                />
              </div>
              <div className="bg-white rounded-lg shadow-lg p-6">
                <LineChart
                  data={chartData.gitData}
                  title="Repo Actions by Sprint"
                  metricType="git"
                  fullSprintData={data}
                />
              </div>
              <div className="bg-white rounded-lg shadow-lg p-6 xl:col-span-2">
                <LineChart
                  data={chartData.totalData}
                  title="Total Actions by Sprint"
                  metricType="total"
                  fullSprintData={data}
                />
              </div>
            </div>

              {/* Sprint Activity Heatmap Table */}
              <SprintActivityTable tableData={tableData} />
            </div>

            {/* Footer */}
            <div className="mt-16 text-center text-gray-600 pb-8">
              <p className="text-sm">
                📊 Sprint Activity Dashboard • Built with React & TailwindCSS
              </p>
              <p className="text-xs mt-2 opacity-75">
                Generated by{" "}
                <a
                  className="text-blue-500 underline hover:text-blue-700"
                  href="https://github.com/JDGTelus/sdm-tools"
                >
                  SDM Tools
                </a>
              </p>
            </div>
          </div>
        );
      };


      // ==================== Sprint Velocity Dashboard ====================
// Color scheme
      const PLANNED_COLOR = '#4B0082';     // TELUS Purple
      const DELIVERED_COLOR = '#66CC00';   // TELUS Green
      const AVG_LINE_COLOR = '#FF6B6B';    // Red for average lines

      // Line Chart Component
      const VelocityLineChart = ({ data }) => {
        const chartRef = useRef(null);
        const chartInstance = useRef(null);

        useEffect(() => {
          if (!chartRef.current || !data) return;
          if (chartInstance.current) chartInstance.current.destroy();

          const ctx = chartRef.current.getContext('2d');

          // Prepare labels (sprint names)
          const labels = data.sprints.map(s => s.name.replace('DevicesTITAN_', ''));

          // Prepare data points
          const plannedPoints = data.sprints.map(s => s.planned_points);
          const deliveredPoints = data.sprints.map(s => s.delivered_points);

          // Calculate average lines
          const avgPlanned = data.metadata.avg_planned_per_sprint;
          const avgDelivered = data.metadata.avg_delivered_per_sprint;

          // Calculate dynamic Y-axis range to center data in middle
          const allPoints = [
            ...plannedPoints,
            ...deliveredPoints,
            avgPlanned,
            avgDelivered
          ];
          const maxPoint = Math.max(...allPoints);
          const minPoint = Math.min(...allPoints);
          const dataRange = maxPoint - minPoint;

          // Add padding above and below data (40% padding on each side)
          // This keeps lines centered in the middle of the chart
          const padding = dataRange * 0.8;

          // Center the range around the middle of the data
          const dataMidpoint = (maxPoint + minPoint) / 2;

          // Set range with padding
          const suggestedMin = Math.max(0, Math.floor(dataMidpoint - (dataRange / 2) - padding));
          const suggestedMax = Math.ceil(dataMidpoint + (dataRange / 2) + padding);

          chartInstance.current = new Chart(ctx, {
            type: 'line',
            data: {
              labels: labels,
              datasets: [
                {
                  label: 'Planned Points',
                  data: plannedPoints,
                  borderColor: PLANNED_COLOR,
                  backgroundColor: 'rgba(75, 0, 130, 0.1)',
                  borderWidth: 2,
                  borderDash: [5, 5],
                  tension: 0,
                  pointRadius: 4,
                  pointHoverRadius: 6,
                  pointBackgroundColor: PLANNED_COLOR,
                  pointBorderColor: PLANNED_COLOR,
                  pointHoverBorderWidth: 2,
                  hoverBorderWidth: 3,
                  hoverBorderDash: [],
                  fill: false
                },
                {
                  label: 'Delivered Points',
                  data: deliveredPoints,
                  borderColor: DELIVERED_COLOR,
                  backgroundColor: 'rgba(102, 204, 0, 0.1)',
                  borderWidth: 2,
                  borderDash: [5, 5],
                  tension: 0,
                  pointRadius: 4,
                  pointHoverRadius: 6,
                  pointBackgroundColor: DELIVERED_COLOR,
                  pointBorderColor: DELIVERED_COLOR,
                  pointHoverBorderWidth: 2,
                  hoverBorderWidth: 3,
                  hoverBorderDash: [],
                  fill: false
                },
                {
                  label: `Avg Planned (${avgPlanned} pts)`,
                  data: Array(labels.length).fill(avgPlanned),
                  borderColor: PLANNED_COLOR,
                  backgroundColor: 'transparent',
                  borderWidth: 1.5,
                  borderDash: [10, 5],
                  tension: 0,
                  pointRadius: 0,
                  pointHoverRadius: 2,
                  hoverBorderWidth: 2
                },
                {
                  label: `Avg Delivered (${avgDelivered} pts)`,
                  data: Array(labels.length).fill(avgDelivered),
                  borderColor: DELIVERED_COLOR,
                  backgroundColor: 'transparent',
                  borderWidth: 1.5,
                  borderDash: [10, 5],
                  tension: 0,
                  pointRadius: 0,
                  pointHoverRadius: 2,
                  hoverBorderWidth: 2
                }
              ]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              interaction: {
                mode: 'dataset',
                intersect: false
              },
              plugins: {
                legend: {
                  display: true,
                  position: 'right',
                  labels: {
                    usePointStyle: true,
                    padding: 12,
                    font: { size: 13, weight: '500' }
                  }
                },
                title: {
                  display: true,
                  text: 'Sprint Velocity: Planned vs Delivered Story Points',
                  font: { size: 20, weight: 'bold' },
                  color: '#1f2937',
                  padding: { top: 10, bottom: 15 }
                },
                tooltip: {
                  enabled: false  // Disable all tooltips on line hover
                }
              },
              scales: {
                x: {
                  title: {
                    display: true,
                    text: 'Sprint',
                    font: { size: 14, weight: 'bold' }
                  },
                  ticks: {
                    maxRotation: 45,
                    minRotation: 45,
                    font: { size: 12 }
                  },
                  grid: { color: '#e5e7eb' }
                },
                y: {
                  beginAtZero: false,
                  suggestedMin: suggestedMin,
                  suggestedMax: suggestedMax,
                  title: {
                    display: true,
                    text: 'Story Points',
                    font: { size: 14, weight: 'bold' }
                  },
                  ticks: {
                    color: '#6b7280',
                    font: { size: 12 }
                  },
                  grid: { color: '#e5e7eb' }
                }
              }
            }
          });

          return () => {
            if (chartInstance.current) {
              chartInstance.current.destroy();
            }
          };
        }, [data]);

        return (
          <div className="bg-white rounded-lg shadow-lg p-6 mb-8">
            <div style={{ height: '450px' }}>
              <canvas ref={chartRef}></canvas>
            </div>
          </div>
        );
      };

      // Velocity Table Component
      const VelocityTable = ({ data }) => {
        if (!data) return null;

        const getCompletionColor = (rate) => {
          if (rate >= 90) return 'text-green-600 font-bold';
          if (rate >= 75) return 'text-green-500';
          if (rate >= 60) return 'text-yellow-600';
          return 'text-red-600';
        };

        const getCompletionBgColor = (rate) => {
          if (rate >= 90) return 'bg-green-50';
          if (rate >= 75) return 'bg-green-50';
          if (rate >= 60) return 'bg-yellow-50';
          return 'bg-red-50';
        };

        // Reverse to show newest first in table
        const sprints = [...data.sprints].reverse();

        return (
          <div className="bg-white rounded-lg shadow-lg overflow-hidden mb-8">
            <div className="px-6 py-4 bg-gradient-to-r from-telus-purple to-telus-light-purple">
              <h3 className="text-xl font-bold text-white">Sprint Velocity Details</h3>
              <p className="text-sm text-white opacity-90 mt-1">Breakdown by sprint (newest first)</p>
            </div>
            <div className="overflow-x-auto">
              <table className="min-w-full divide-y divide-gray-200">
                <thead className="bg-gray-50">
                  <tr>
                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Sprint
                    </th>
                    <th className="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Start Date
                    </th>
                    <th className="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">
                      End Date
                    </th>
                    <th className="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Planned Points
                    </th>
                    <th className="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Delivered Points
                    </th>
                    <th className="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Completion Rate
                    </th>
                    <th className="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">
                      Issues
                    </th>
                  </tr>
                </thead>
                <tbody className="bg-white divide-y divide-gray-200">
                  {sprints.map((sprint, idx) => (
                    <tr key={sprint.id} className={`hover:bg-gray-50 ${getCompletionBgColor(sprint.completion_rate)}`}>
                      <td className="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                        {sprint.name.replace('DevicesTITAN_', '')}
                      </td>
                      <td className="px-4 py-4 whitespace-nowrap text-sm text-gray-600 text-center">
                        {sprint.start_date}
                      </td>
                      <td className="px-4 py-4 whitespace-nowrap text-sm text-gray-600 text-center">
                        {sprint.end_date}
                      </td>
                      <td className="px-4 py-4 whitespace-nowrap text-sm font-semibold text-telus-purple text-center">
                        {sprint.planned_points}
                      </td>
                      <td className="px-4 py-4 whitespace-nowrap text-sm font-semibold text-telus-green text-center">
                        {sprint.delivered_points}
                      </td>
                      <td className={`px-4 py-4 whitespace-nowrap text-sm text-center ${getCompletionColor(sprint.completion_rate)}`}>
                        {sprint.completion_rate}%
                      </td>
                      <td className="px-4 py-4 whitespace-nowrap text-sm text-gray-600 text-center">
                        {sprint.completed_issues} / {sprint.total_issues}
                      </td>
                    </tr>
                  ))}
                </tbody>
                <tfoot className="bg-gray-100">
                  <tr className="font-bold">
                    <td className="px-6 py-4 text-sm text-gray-900" colSpan="3">
                      Overall Summary ({data.metadata.sprint_count} sprints)
                    </td>
                    <td className="px-4 py-4 text-sm text-telus-purple text-center">
                      {data.metadata.total_planned_points} pts
                      <div className="text-xs text-gray-600 font-normal">
                        Avg: {data.metadata.avg_planned_per_sprint}
                      </div>
                    </td>
                    <td className="px-4 py-4 text-sm text-telus-green text-center">
                      {data.metadata.total_delivered_points} pts
                      <div className="text-xs text-gray-600 font-normal">
                        Avg: {data.metadata.avg_delivered_per_sprint}
                      </div>
                    </td>
                    <td className={`px-4 py-4 text-sm text-center ${getCompletionColor(data.metadata.overall_completion_rate)}`}>
                      {data.metadata.overall_completion_rate}%
                    </td>
                    <td className="px-4 py-4 text-sm text-gray-600 text-center">
                      -
                    </td>
                  </tr>
                </tfoot>
              </table>
            </div>
          </div>
        );
      };

      // Main App Component
      const App = () => {
        const [data, setData] = useState(null);
        const [loading, setLoading] = useState(true);
        const [error, setError] = useState(null);

        useEffect(() => {
          /* Inlined data from ./data/sprint_velocity_report.json */
          Promise.resolve({"generated_at": "2025-12-02T11:53:21.907876-06:00", "report_type": "sprint_velocity", "metadata": {"sprint_count": 10, "earliest_sprint": {"id": 159211, "name": "DevicesTITAN_Sprint 64", "start_date": "2025-07-16"}, "latest_sprint": {"id": 163232, "name": "DevicesTITAN_Sprint 73", "start_date": "2025-11-19"}, "total_planned_points": 272.0, "total_delivered_points": 352.0, "avg_planned_per_sprint": 27.2, "avg_delivered_per_sprint": 35.2, "overall_completion_rate": 129.4}, "sprints": [{"id": 159211, "name": "DevicesTITAN_Sprint 64", "start_date": "2025-07-16", "end_date": "2025-07-29", "state": "closed", "planned_points": 3.0, "delivered_points": 0.0, "completion_rate": 0.0, "total_issues": 1, "completed_issues": 0, "planned_issues": 1}, {"id": 159823, "name": "DevicesTITAN_Sprint 65", "start_date": "2025-07-30", "end_date": "2025-08-12", "state": "closed", "planned_points": 0.0, "delivered_points": 44.0, "completion_rate": 0.0, "total_issues": 4, "completed_issues": 4, "planned_issues": 0}, {"id": 160220, "name": "DevicesTITAN_Sprint 66", "start_date": "2025-08-13", "end_date": "2025-08-27", "state": "closed", "planned_points": 5.0, "delivered_points": 35.0, "completion_rate": 700.0, "total_issues": 14, "completed_issues": 9, "planned_issues": 1}, {"id": 160496, "name": "DevicesTITAN_Sprint 67", "start_date": "2025-08-27", "end_date": "2025-09-09", "state": "closed", "planned_points": 4.0, "delivered_points": 12.0, "completion_rate": 300.0, "total_issues": 5, "completed_issues": 3, "planned_issues": 2}, {"id": 160917, "name": "DevicesTITAN_Sprint 68", "start_date": "2025-09-10", "end_date": "2025-09-23", "state": "closed", "planned_points": 10.0, "delivered_points": 8.0, "completion_rate": 80.0, "total_issues": 2, "completed_issues": 1, "planned_issues": 2}, {"id": 161188, "name": "DevicesTITAN_Sprint 69", "start_date": "2025-09-24", "end_date": "2025-10-07", "state": "closed", "planned_points": 14.0, "delivered_points": 44.0, "completion_rate": 314.3, "total_issues": 12, "completed_issues": 9, "planned_issues": 4}, {"id": 161221, "name": "DevicesTITAN_Sprint 70", "start_date": "2025-10-08", "end_date": "2025-10-21", "state": "closed", "planned_points": 47.0, "delivered_points": 42.0, "completion_rate": 89.4, "total_issues": 18, "completed_issues": 14, "planned_issues": 13}, {"id": 161877, "name": "DevicesTITAN_Sprint 71", "start_date": "2025-10-22", "end_date": "2025-11-04", "state": "closed", "planned_points": 70.0, "delivered_points": 63.0, "completion_rate": 90.0, "total_issues": 16, "completed_issues": 12, "planned_issues": 11}, {"id": 163231, "name": "DevicesTITAN_Sprint 72", "start_date": "2025-11-05", "end_date": "2025-11-18", "state": "closed", "planned_points": 60.0, "delivered_points": 47.0, "completion_rate": 78.3, "total_issues": 23, "completed_issues": 12, "planned_issues": 11}, {"id": 163232, "name": "DevicesTITAN_Sprint 73", "start_date": "2025-11-19", "end_date": "2025-12-03", "state": "active", "planned_points": 59.0, "delivered_points": 57.0, "completion_rate": 96.6, "total_issues": 29, "completed_issues": 14, "planned_issues": 17}]})
            .then((reportData) => {
              setData(reportData);
              setLoading(false);
            })
            .catch((err) => {
              console.error('Error loading data:', err);
              setError(err.message);
              setLoading(false);
            });
        }, []);

        if (loading) {
          return (
            <div className="min-h-screen flex items-center justify-center">
              <div className="text-xl text-telus-purple">Loading Sprint Velocity Data...</div>
            </div>
          );
        }

        if (error) {
          return (
            <div className="min-h-screen flex items-center justify-center">
              <div className="text-xl text-red-600">
                Error: {error}
                <div className="text-sm mt-2 text-gray-600">
                  Make sure to generate the report first using the CLI.
                </div>
              </div>
            </div>
          );
        }

        if (!data) {
          return (
            <div className="min-h-screen flex items-center justify-center">
              <div className="text-xl text-gray-600">No data available</div>
            </div>
          );
        }

        return (
          <div className="min-h-screen">
            {/* Header */}
            <div className="gradient-bg text-white py-12">
              <div className="container mx-auto px-6">
                <h1 className="text-4xl font-bold mb-4">
                  Sprint Velocity Dashboard
                </h1>
                <p className="text-xl opacity-90">
                  Planned vs Delivered Story Points • {data.metadata.sprint_count} Sprint{data.metadata.sprint_count !== 1 ? 's' : ''}
                </p>
                <p className="text-sm mt-2 opacity-75">
                  Generated: {new Date(data.generated_at).toLocaleString()}
                </p>
              </div>
            </div>

            <div className="container mx-auto px-6 py-8">
              {/* Summary Cards */}
              <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div className="bg-white rounded-lg shadow p-6">
                  <div className="text-sm text-gray-600 uppercase tracking-wider mb-2">
                    Total Planned
                  </div>
                  <div className="text-3xl font-bold text-telus-purple">
                    {data.metadata.total_planned_points}
                  </div>
                  <div className="text-xs text-gray-500 mt-1">
                    Avg: {data.metadata.avg_planned_per_sprint} pts/sprint
                  </div>
                </div>

                <div className="bg-white rounded-lg shadow p-6">
                  <div className="text-sm text-gray-600 uppercase tracking-wider mb-2">
                    Total Delivered
                  </div>
                  <div className="text-3xl font-bold text-telus-green">
                    {data.metadata.total_delivered_points}
                  </div>
                  <div className="text-xs text-gray-500 mt-1">
                    Avg: {data.metadata.avg_delivered_per_sprint} pts/sprint
                  </div>
                </div>

                <div className="bg-white rounded-lg shadow p-6">
                  <div className="text-sm text-gray-600 uppercase tracking-wider mb-2">
                    Completion Rate
                  </div>
                  <div className={`text-3xl font-bold ${
                    data.metadata.overall_completion_rate >= 80 ? 'text-green-600' :
                    data.metadata.overall_completion_rate >= 60 ? 'text-yellow-600' :
                    'text-red-600'
                  }`}>
                    {data.metadata.overall_completion_rate}%
                  </div>
                  <div className="text-xs text-gray-500 mt-1">
                    Across {data.metadata.sprint_count} sprints
                  </div>
                </div>

                <div className="bg-white rounded-lg shadow p-6">
                  <div className="text-sm text-gray-600 uppercase tracking-wider mb-2">
                    Variance
                  </div>
                  <div className={`text-3xl font-bold ${
                    (data.metadata.total_delivered_points - data.metadata.total_planned_points) >= 0 ?
                    'text-green-600' : 'text-red-600'
                  }`}>
                    {data.metadata.total_delivered_points >= data.metadata.total_planned_points ? '+' : ''}
                    {(data.metadata.total_delivered_points - data.metadata.total_planned_points).toFixed(1)}
                  </div>
                  <div className="text-xs text-gray-500 mt-1">
                    Delivered - Planned
                  </div>
                </div>
              </div>

              {/* Line Chart */}
              <VelocityLineChart data={data} />

              {/* Velocity Table */}
              <VelocityTable data={data} />
            </div>

            {/* Footer */}
            <div className="mt-16 text-center text-gray-600 pb-8">
              <p className="text-sm">
                📈 Sprint Velocity Dashboard • Built with React & TailwindCSS
              </p>
              <p className="text-xs mt-2 opacity-75">
                Generated by{" "}
                <a
                  className="text-blue-500 underline hover:text-blue-700"
                  href="https://github.com/JDGTelus/sdm-tools"
                >
                  SDM Tools
                </a>
              </p>
            </div>
          </div>
        );
      };


      // ═══════════════════════════════════════════════════════════════════════
      // SIDEBAR NAVIGATION
      // ═══════════════════════════════════════════════════════════════════════

      const Sidebar = ({ currentView, onNavigate, isOpen, toggle, reports }) => {
        return (
          <div className={`sidebar ${isOpen ? 'sidebar-open' : 'sidebar-closed'}`}>
            <div className="sidebar-header">
              <div className="sidebar-title">
                {isOpen ? 'SDM Reports' : 'SDM'}
              </div>
              <button onClick={toggle} className="toggle-btn">
                {isOpen ? '←' : '→'}
              </button>
            </div>

            <nav>
              {reports.map(report => (
                <div
                  key={report.view_name}
                  className={`nav-item ${currentView === report.view_name ? 'active' : ''}`}
                  onClick={() => onNavigate(report.view_name)}
                >
                  <span className="nav-item-icon">{report.icon}</span>
                  {isOpen && <span className="nav-item-text">{report.title}</span>}
                </div>
              ))}
            </nav>

            {isOpen && (
              <div className="sidebar-footer">
                SDM Tools<br/>Bundled Reports
              </div>
            )}
          </div>
        );
      };

      // ═══════════════════════════════════════════════════════════════════════
      // MAIN APP WITH DYNAMIC NAVIGATION
      // ═══════════════════════════════════════════════════════════════════════

      const BundledReportsApp = () => {
        const reportsMetadata =         [
          {
            "view_name": "daily",
            "title": "Daily Activity Dashboard",
            "icon": "\ud83d\udcc5"
          },
          {
            "view_name": "sprint",
            "title": "Sprint Activity Dashboard",
            "icon": "\ud83d\udcca"
          },
          {
            "view_name": "velocity",
            "title": "Sprint Velocity Dashboard",
            "icon": "\ud83d\udcc8"
          }
        ];

        const [currentView, setCurrentView] = useState('daily');
        const [sidebarOpen, setSidebarOpen] = useState(true);

        // Render the appropriate dashboard based on current view
        const renderDashboard = () => {
          if (currentView === 'daily' && EMBEDDED_DATA.daily) {
            return <DailyActivityDashboard />;
          } else if (currentView === 'sprint' && EMBEDDED_DATA.sprint) {
            return <SprintActivityDashboard />;
          } else if (currentView === 'velocity' && EMBEDDED_DATA.velocity) {
            return <App />;
          }
          return <div className="flex items-center justify-center h-screen">
            <div className="text-xl text-gray-600">No data available for this view</div>
          </div>;
        };

        return (
          <>
            <Sidebar
              currentView={currentView}
              onNavigate={setCurrentView}
              isOpen={sidebarOpen}
              toggle={() => setSidebarOpen(!sidebarOpen)}
              reports={reportsMetadata}
            />
            <div className={`main-content ${sidebarOpen ? 'with-sidebar-open' : 'with-sidebar-closed'}`}>
              {renderDashboard()}
            </div>
          </>
        );
      };

      // Render the app
      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<BundledReportsApp />);
    </script>
  </body>
</html>
