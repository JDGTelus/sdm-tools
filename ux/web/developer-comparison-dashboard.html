<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Developer Performance Comparison Dashboard</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'telus-purple': '#4B0082',
                        'telus-green': '#66CC00',
                        'telus-blue': '#0066CC',
                        'telus-light-purple': '#8A2BE2',
                        'telus-dark-purple': '#2E0054',
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="shared-dashboard-styles.css">
</head>
<body class="bg-gray-50">
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;

        const RadarChart = ({ data, title }) => {
            const chartRef = useRef(null);
            const chartInstance = useRef(null);

            useEffect(() => {
                if (!chartRef.current || !data) return;
                if (chartInstance.current) chartInstance.current.destroy();

                const ctx = chartRef.current.getContext('2d');
                chartInstance.current = new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: data.labels,
                        datasets: data.datasets
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                beginAtZero: true,
                                ticks: { stepSize: 20 }
                            }
                        },
                        plugins: {
                            legend: { position: 'top' }
                        }
                    }
                });

                return () => { if (chartInstance.current) chartInstance.current.destroy(); };
            }, [data]);

            return (
                <div className="bg-white rounded-xl shadow-lg p-6">
                    <h3 className="text-lg font-semibold text-gray-800 mb-4">{title}</h3>
                    <div style={{ height: '350px' }}><canvas ref={chartRef}></canvas></div>
                </div>
            );
        };

        const BarChart = ({ data, title }) => {
            const chartRef = useRef(null);
            const chartInstance = useRef(null);

            useEffect(() => {
                if (!chartRef.current || !data) return;
                if (chartInstance.current) chartInstance.current.destroy();

                const ctx = chartRef.current.getContext('2d');
                chartInstance.current = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: data.labels,
                        datasets: data.datasets
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: { beginAtZero: true, ticks: { precision: 0 } }
                        },
                        plugins: {
                            legend: { position: 'top' }
                        }
                    }
                });

                return () => { if (chartInstance.current) chartInstance.current.destroy(); };
            }, [data]);

            return (
                <div className="bg-white rounded-xl shadow-lg p-6">
                    <h3 className="text-lg font-semibold text-gray-800 mb-4">{title}</h3>
                    <div style={{ height: '350px' }}><canvas ref={chartRef}></canvas></div>
                </div>
            );
        };

        const Dashboard = () => {
            const [sprintData, setSprintData] = useState(null);
            const [activityData, setActivityData] = useState(null);
            const [loading, setLoading] = useState(true);
            const [selectedDeveloper, setSelectedDeveloper] = useState(null);

            useEffect(() => {
                Promise.all([
                    fetch('./data/team_sprint_stats.json').then(r => r.json()),
                    fetch('./data/developer_activity.json').then(r => r.json())
                ])
                .then(([sprint, activity]) => {
                    setSprintData(sprint);
                    setActivityData(activity);
                    setLoading(false);
                })
                .catch(e => {
                    console.error(e);
                    setLoading(false);
                });
            }, []);

            const teamMetrics = useMemo(() => {
                if (!sprintData?.sprint_analytics) return null;

                const allDevs = [];
                Object.values(sprintData.sprint_analytics).forEach(sprint => {
                    Object.values(sprint.developers).forEach(dev => {
                        allDevs.push(dev);
                    });
                });

                const totalCommits = allDevs.reduce((sum, d) => sum + d.commits_in_sprint, 0);
                const totalIssuesAssigned = allDevs.reduce((sum, d) => sum + d.issues_assigned_in_sprint, 0);
                const totalIssuesClosed = allDevs.reduce((sum, d) => sum + d.issues_closed_in_sprint, 0);
                const totalStoryPoints = allDevs.reduce((sum, d) => sum + d.story_points_closed_in_sprint, 0);

                return {
                    avgCommits: allDevs.length > 0 ? totalCommits / allDevs.length : 0,
                    avgIssuesAssigned: allDevs.length > 0 ? totalIssuesAssigned / allDevs.length : 0,
                    avgIssuesClosed: allDevs.length > 0 ? totalIssuesClosed / allDevs.length : 0,
                    avgStoryPoints: allDevs.length > 0 ? totalStoryPoints / allDevs.length : 0,
                    avgCompletionRate: totalIssuesAssigned > 0 ? (totalIssuesClosed / totalIssuesAssigned) * 100 : 0
                };
            }, [sprintData]);

            const developerSummaries = useMemo(() => {
                if (!sprintData?.sprint_analytics || !activityData?.developer_summary) return [];

                const devMap = {};

                Object.values(sprintData.sprint_analytics).forEach(sprint => {
                    Object.values(sprint.developers).forEach(dev => {
                        if (!devMap[dev.email]) {
                            devMap[dev.email] = {
                                name: dev.name,
                                email: dev.email,
                                totalCommits: 0,
                                totalIssuesAssigned: 0,
                                totalIssuesClosed: 0,
                                totalStoryPoints: 0,
                                sprintCount: 0
                            };
                        }
                        devMap[dev.email].totalCommits += dev.commits_in_sprint;
                        devMap[dev.email].totalIssuesAssigned += dev.issues_assigned_in_sprint;
                        devMap[dev.email].totalIssuesClosed += dev.issues_closed_in_sprint;
                        devMap[dev.email].totalStoryPoints += dev.story_points_closed_in_sprint;
                        devMap[dev.email].sprintCount += 1;
                    });
                });

                const summaries = Object.values(devMap).map(dev => {
                    const activityInfo = activityData.developer_summary.find(d => d.email === dev.email);
                    return {
                        ...dev,
                        avgCommits: dev.sprintCount > 0 ? dev.totalCommits / dev.sprintCount : 0,
                        avgIssuesAssigned: dev.sprintCount > 0 ? dev.totalIssuesAssigned / dev.sprintCount : 0,
                        avgIssuesClosed: dev.sprintCount > 0 ? dev.totalIssuesClosed / dev.sprintCount : 0,
                        avgStoryPoints: dev.sprintCount > 0 ? dev.totalStoryPoints / dev.sprintCount : 0,
                        completionRate: dev.totalIssuesAssigned > 0 ? (dev.totalIssuesClosed / dev.totalIssuesAssigned) * 100 : 0,
                        activityPerSprint: activityInfo?.avg_activity_per_sprint || 0
                    };
                });

                return summaries.sort((a, b) => (b.totalCommits + b.totalIssuesAssigned) - (a.totalCommits + a.totalIssuesAssigned));
            }, [sprintData, activityData]);

            const getPerformanceIndicator = (value, avg) => {
                const ratio = avg > 0 ? (value / avg) * 100 : 100;
                if (ratio >= 120) return { color: 'text-green-600', icon: '▲▲', label: 'Excellent' };
                if (ratio >= 100) return { color: 'text-green-500', icon: '▲', label: 'Above Avg' };
                if (ratio >= 80) return { color: 'text-yellow-600', icon: '●', label: 'Average' };
                return { color: 'text-red-500', icon: '▼', label: 'Below Avg' };
            };

            const radarData = useMemo(() => {
                if (!selectedDeveloper || !teamMetrics) return null;

                return {
                    labels: ['Commits', 'Issues Assigned', 'Issues Closed', 'Story Points', 'Activity/Sprint'],
                    datasets: [
                        {
                            label: selectedDeveloper.name,
                            data: [
                                selectedDeveloper.avgCommits,
                                selectedDeveloper.avgIssuesAssigned,
                                selectedDeveloper.avgIssuesClosed,
                                selectedDeveloper.avgStoryPoints,
                                selectedDeveloper.activityPerSprint
                            ],
                            backgroundColor: 'rgba(75, 0, 130, 0.2)',
                            borderColor: '#4B0082',
                            pointBackgroundColor: '#4B0082'
                        },
                        {
                            label: 'Team Average',
                            data: [
                                teamMetrics.avgCommits,
                                teamMetrics.avgIssuesAssigned,
                                teamMetrics.avgIssuesClosed,
                                teamMetrics.avgStoryPoints,
                                developerSummaries.reduce((sum, d) => sum + d.activityPerSprint, 0) / developerSummaries.length
                            ],
                            backgroundColor: 'rgba(102, 204, 0, 0.2)',
                            borderColor: '#66CC00',
                            pointBackgroundColor: '#66CC00'
                        }
                    ]
                };
            }, [selectedDeveloper, teamMetrics, developerSummaries]);

            if (loading) return (
                <div className="min-h-screen flex items-center justify-center">
                    <div className="animate-spin rounded-full h-32 w-32 border-b-2 border-telus-purple"></div>
                </div>
            );

            if (!sprintData || !activityData) return (
                <div className="min-h-screen flex items-center justify-center">
                    <p className="text-red-600 text-xl">Failed to load data</p>
                </div>
            );

            return (
                <div className="min-h-screen bg-gray-50">
                    <div className="gradient-bg text-white py-12">
                        <div className="container mx-auto px-6">
                            <h1 className="text-4xl font-bold mb-4">Developer Performance Comparison</h1>
                            <p className="text-xl opacity-90">Individual Performance vs Team Benchmarks</p>
                        </div>
                    </div>

                    <div className="container mx-auto px-6 py-8">
                        {/* Team Metrics Overview */}
                        <div className="bg-white rounded-xl shadow-lg p-6 mb-8">
                            <h2 className="text-2xl font-bold text-gray-800 mb-6">Team Performance Benchmarks</h2>
                            <div className="grid grid-cols-2 md:grid-cols-5 gap-4">
                                <div className="text-center">
                                    <p className="text-2xl font-bold text-telus-purple">{teamMetrics?.avgCommits.toFixed(1)}</p>
                                    <p className="text-sm text-gray-600">Avg Commits/Sprint</p>
                                </div>
                                <div className="text-center">
                                    <p className="text-2xl font-bold text-telus-blue">{teamMetrics?.avgIssuesAssigned.toFixed(1)}</p>
                                    <p className="text-sm text-gray-600">Avg Issues Assigned</p>
                                </div>
                                <div className="text-center">
                                    <p className="text-2xl font-bold text-telus-green">{teamMetrics?.avgIssuesClosed.toFixed(1)}</p>
                                    <p className="text-sm text-gray-600">Avg Issues Closed</p>
                                </div>
                                <div className="text-center">
                                    <p className="text-2xl font-bold text-orange-600">{teamMetrics?.avgStoryPoints.toFixed(1)}</p>
                                    <p className="text-sm text-gray-600">Avg Story Points</p>
                                </div>
                                <div className="text-center">
                                    <p className="text-2xl font-bold text-purple-600">{teamMetrics?.avgCompletionRate.toFixed(1)}%</p>
                                    <p className="text-sm text-gray-600">Avg Completion</p>
                                </div>
                            </div>
                        </div>

                        {/* Developer Selection */}
                        <div className="bg-white rounded-xl shadow-lg p-6 mb-8">
                            <h3 className="text-lg font-semibold text-gray-800 mb-4">Select Developer to Compare</h3>
                            <select
                                value={selectedDeveloper?.email || ''}
                                onChange={(e) => setSelectedDeveloper(developerSummaries.find(d => d.email === e.target.value))}
                                className="w-full md:w-auto px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-telus-purple"
                            >
                                <option value="">Choose a developer...</option>
                                {developerSummaries.map(dev => (
                                    <option key={dev.email} value={dev.email}>
                                        {dev.name} ({dev.sprintCount} sprints)
                                    </option>
                                ))}
                            </select>
                        </div>

                        {/* Developer Comparison */}
                        {selectedDeveloper && (
                            <>
                                {/* Developer Header */}
                                <div className="bg-gradient-to-r from-telus-purple to-telus-light-purple rounded-xl shadow-lg p-8 mb-8 text-white">
                                    <div className="flex items-center justify-between">
                                        <div>
                                            <h2 className="text-3xl font-bold mb-2">{selectedDeveloper.name}</h2>
                                            <p className="text-lg opacity-90">{selectedDeveloper.email}</p>
                                            <p className="text-sm opacity-75 mt-2">Active in {selectedDeveloper.sprintCount} sprint{selectedDeveloper.sprintCount !== 1 ? 's' : ''}</p>
                                        </div>
                                        <div className="text-right">
                                            <p className="text-5xl font-bold">{selectedDeveloper.completionRate.toFixed(0)}%</p>
                                            <p className="text-sm opacity-90">Completion Rate</p>
                                        </div>
                                    </div>
                                </div>

                                {/* Performance Metrics Comparison */}
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                                    <div className="bg-white rounded-xl shadow-lg p-6">
                                        <div className="flex items-center justify-between mb-2">
                                            <p className="text-gray-600 text-sm font-medium">Avg Commits/Sprint</p>
                                            {(() => {
                                                const indicator = getPerformanceIndicator(selectedDeveloper.avgCommits, teamMetrics.avgCommits);
                                                return <span className={`${indicator.color} text-xl font-bold`}>{indicator.icon}</span>;
                                            })()}
                                        </div>
                                        <p className="text-3xl font-bold text-telus-purple">{selectedDeveloper.avgCommits.toFixed(1)}</p>
                                        <p className="text-sm text-gray-500 mt-1">Team avg: {teamMetrics.avgCommits.toFixed(1)}</p>
                                        <div className="mt-3 bg-gray-200 rounded-full h-2">
                                            <div 
                                                className="bg-telus-purple rounded-full h-2" 
                                                style={{width: `${Math.min(100, (selectedDeveloper.avgCommits / teamMetrics.avgCommits) * 100)}%`}}
                                            ></div>
                                        </div>
                                    </div>

                                    <div className="bg-white rounded-xl shadow-lg p-6">
                                        <div className="flex items-center justify-between mb-2">
                                            <p className="text-gray-600 text-sm font-medium">Avg Issues Assigned</p>
                                            {(() => {
                                                const indicator = getPerformanceIndicator(selectedDeveloper.avgIssuesAssigned, teamMetrics.avgIssuesAssigned);
                                                return <span className={`${indicator.color} text-xl font-bold`}>{indicator.icon}</span>;
                                            })()}
                                        </div>
                                        <p className="text-3xl font-bold text-telus-blue">{selectedDeveloper.avgIssuesAssigned.toFixed(1)}</p>
                                        <p className="text-sm text-gray-500 mt-1">Team avg: {teamMetrics.avgIssuesAssigned.toFixed(1)}</p>
                                        <div className="mt-3 bg-gray-200 rounded-full h-2">
                                            <div 
                                                className="bg-telus-blue rounded-full h-2" 
                                                style={{width: `${Math.min(100, (selectedDeveloper.avgIssuesAssigned / teamMetrics.avgIssuesAssigned) * 100)}%`}}
                                            ></div>
                                        </div>
                                    </div>

                                    <div className="bg-white rounded-xl shadow-lg p-6">
                                        <div className="flex items-center justify-between mb-2">
                                            <p className="text-gray-600 text-sm font-medium">Avg Issues Closed</p>
                                            {(() => {
                                                const indicator = getPerformanceIndicator(selectedDeveloper.avgIssuesClosed, teamMetrics.avgIssuesClosed);
                                                return <span className={`${indicator.color} text-xl font-bold`}>{indicator.icon}</span>;
                                            })()}
                                        </div>
                                        <p className="text-3xl font-bold text-telus-green">{selectedDeveloper.avgIssuesClosed.toFixed(1)}</p>
                                        <p className="text-sm text-gray-500 mt-1">Team avg: {teamMetrics.avgIssuesClosed.toFixed(1)}</p>
                                        <div className="mt-3 bg-gray-200 rounded-full h-2">
                                            <div 
                                                className="bg-telus-green rounded-full h-2" 
                                                style={{width: `${Math.min(100, (selectedDeveloper.avgIssuesClosed / teamMetrics.avgIssuesClosed) * 100)}%`}}
                                            ></div>
                                        </div>
                                    </div>

                                    <div className="bg-white rounded-xl shadow-lg p-6">
                                        <div className="flex items-center justify-between mb-2">
                                            <p className="text-gray-600 text-sm font-medium">Avg Story Points</p>
                                            {(() => {
                                                const indicator = getPerformanceIndicator(selectedDeveloper.avgStoryPoints, teamMetrics.avgStoryPoints);
                                                return <span className={`${indicator.color} text-xl font-bold`}>{indicator.icon}</span>;
                                            })()}
                                        </div>
                                        <p className="text-3xl font-bold text-orange-600">{selectedDeveloper.avgStoryPoints.toFixed(1)}</p>
                                        <p className="text-sm text-gray-500 mt-1">Team avg: {teamMetrics.avgStoryPoints.toFixed(1)}</p>
                                        <div className="mt-3 bg-gray-200 rounded-full h-2">
                                            <div 
                                                className="bg-orange-600 rounded-full h-2" 
                                                style={{width: `${Math.min(100, (selectedDeveloper.avgStoryPoints / teamMetrics.avgStoryPoints) * 100)}%`}}
                                            ></div>
                                        </div>
                                    </div>
                                </div>

                                {/* Visual Comparison Charts */}
                                <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                                    <RadarChart 
                                        data={radarData} 
                                        title="Performance Profile Comparison"
                                    />
                                    <BarChart
                                        data={{
                                            labels: ['Commits', 'Issues Assigned', 'Issues Closed', 'Story Points'],
                                            datasets: [
                                                {
                                                    label: selectedDeveloper.name,
                                                    data: [
                                                        selectedDeveloper.totalCommits,
                                                        selectedDeveloper.totalIssuesAssigned,
                                                        selectedDeveloper.totalIssuesClosed,
                                                        selectedDeveloper.totalStoryPoints
                                                    ],
                                                    backgroundColor: '#4B0082'
                                                },
                                                {
                                                    label: 'Team Average (per dev)',
                                                    data: [
                                                        teamMetrics.avgCommits * selectedDeveloper.sprintCount,
                                                        teamMetrics.avgIssuesAssigned * selectedDeveloper.sprintCount,
                                                        teamMetrics.avgIssuesClosed * selectedDeveloper.sprintCount,
                                                        teamMetrics.avgStoryPoints * selectedDeveloper.sprintCount
                                                    ],
                                                    backgroundColor: '#66CC00'
                                                }
                                            ]
                                        }}
                                        title="Total Contributions vs Team Benchmark"
                                    />
                                </div>

                                {/* Performance Summary */}
                                <div className="bg-white rounded-xl shadow-lg p-6">
                                    <h3 className="text-xl font-bold text-gray-800 mb-4">Performance Summary</h3>
                                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                                        <div>
                                            <h4 className="font-semibold text-gray-700 mb-3">Strengths</h4>
                                            <ul className="space-y-2">
                                                {selectedDeveloper.avgCommits >= teamMetrics.avgCommits && (
                                                    <li className="flex items-center text-green-600">
                                                        <span className="mr-2">✓</span>
                                                        <span className="text-sm">Above average commit activity</span>
                                                    </li>
                                                )}
                                                {selectedDeveloper.avgIssuesClosed >= teamMetrics.avgIssuesClosed && (
                                                    <li className="flex items-center text-green-600">
                                                        <span className="mr-2">✓</span>
                                                        <span className="text-sm">Strong issue completion rate</span>
                                                    </li>
                                                )}
                                                {selectedDeveloper.avgStoryPoints >= teamMetrics.avgStoryPoints && (
                                                    <li className="flex items-center text-green-600">
                                                        <span className="mr-2">✓</span>
                                                        <span className="text-sm">Above average story points delivery</span>
                                                    </li>
                                                )}
                                                {selectedDeveloper.completionRate >= teamMetrics.avgCompletionRate && (
                                                    <li className="flex items-center text-green-600">
                                                        <span className="mr-2">✓</span>
                                                        <span className="text-sm">High task completion rate</span>
                                                    </li>
                                                )}
                                            </ul>
                                        </div>
                                        <div>
                                            <h4 className="font-semibold text-gray-700 mb-3">Key Metrics</h4>
                                            <ul className="space-y-2 text-sm text-gray-600">
                                                <li>Total Commits: <span className="font-semibold text-gray-800">{selectedDeveloper.totalCommits}</span></li>
                                                <li>Total Issues Closed: <span className="font-semibold text-gray-800">{selectedDeveloper.totalIssuesClosed}</span></li>
                                                <li>Total Story Points: <span className="font-semibold text-gray-800">{selectedDeveloper.totalStoryPoints.toFixed(1)}</span></li>
                                                <li>Sprint Participation: <span className="font-semibold text-gray-800">{selectedDeveloper.sprintCount} sprints</span></li>
                                            </ul>
                                        </div>
                                        <div>
                                            <h4 className="font-semibold text-gray-700 mb-3">Improvement Areas</h4>
                                            <ul className="space-y-2">
                                                {selectedDeveloper.avgCommits < teamMetrics.avgCommits && (
                                                    <li className="flex items-center text-orange-600">
                                                        <span className="mr-2">→</span>
                                                        <span className="text-sm">Consider increasing commit frequency</span>
                                                    </li>
                                                )}
                                                {selectedDeveloper.avgIssuesClosed < teamMetrics.avgIssuesClosed && (
                                                    <li className="flex items-center text-orange-600">
                                                        <span className="mr-2">→</span>
                                                        <span className="text-sm">Focus on completing assigned issues</span>
                                                    </li>
                                                )}
                                                {selectedDeveloper.avgStoryPoints < teamMetrics.avgStoryPoints && (
                                                    <li className="flex items-center text-orange-600">
                                                        <span className="mr-2">→</span>
                                                        <span className="text-sm">Work on higher value tasks</span>
                                                    </li>
                                                )}
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </>
                        )}

                        {/* All Developers Overview */}
                        <div className="bg-white rounded-xl shadow-lg p-6 mt-8">
                            <h2 className="text-2xl font-bold text-gray-800 mb-6">Team Performance Overview</h2>
                            <div className="overflow-x-auto">
                                <table className="min-w-full">
                                    <thead className="bg-gradient-to-r from-telus-purple to-telus-light-purple text-white">
                                        <tr>
                                            <th className="px-4 py-3 text-left text-sm font-semibold">Developer</th>
                                            <th className="px-4 py-3 text-center text-sm font-semibold">Sprints</th>
                                            <th className="px-4 py-3 text-center text-sm font-semibold">Avg Commits</th>
                                            <th className="px-4 py-3 text-center text-sm font-semibold">Avg Issues</th>
                                            <th className="px-4 py-3 text-center text-sm font-semibold">Avg Closed</th>
                                            <th className="px-4 py-3 text-center text-sm font-semibold">Avg Points</th>
                                            <th className="px-4 py-3 text-center text-sm font-semibold">Completion %</th>
                                        </tr>
                                    </thead>
                                    <tbody className="divide-y divide-gray-200">
                                        {developerSummaries.map((dev, idx) => (
                                            <tr 
                                                key={dev.email} 
                                                className={`${idx % 2 === 0 ? 'bg-gray-50' : 'bg-white'} hover:bg-blue-50 cursor-pointer transition-colors`}
                                                onClick={() => setSelectedDeveloper(dev)}
                                            >
                                                <td className="px-4 py-3">
                                                    <div className="font-medium text-gray-900">{dev.name}</div>
                                                    <div className="text-gray-500 text-xs">{dev.email}</div>
                                                </td>
                                                <td className="px-4 py-3 text-center text-gray-700">{dev.sprintCount}</td>
                                                <td className="px-4 py-3 text-center">
                                                    <span className={`font-semibold ${getPerformanceIndicator(dev.avgCommits, teamMetrics.avgCommits).color}`}>
                                                        {dev.avgCommits.toFixed(1)}
                                                    </span>
                                                </td>
                                                <td className="px-4 py-3 text-center">
                                                    <span className={`font-semibold ${getPerformanceIndicator(dev.avgIssuesAssigned, teamMetrics.avgIssuesAssigned).color}`}>
                                                        {dev.avgIssuesAssigned.toFixed(1)}
                                                    </span>
                                                </td>
                                                <td className="px-4 py-3 text-center">
                                                    <span className={`font-semibold ${getPerformanceIndicator(dev.avgIssuesClosed, teamMetrics.avgIssuesClosed).color}`}>
                                                        {dev.avgIssuesClosed.toFixed(1)}
                                                    </span>
                                                </td>
                                                <td className="px-4 py-3 text-center">
                                                    <span className={`font-semibold ${getPerformanceIndicator(dev.avgStoryPoints, teamMetrics.avgStoryPoints).color}`}>
                                                        {dev.avgStoryPoints.toFixed(1)}
                                                    </span>
                                                </td>
                                                <td className="px-4 py-3 text-center">
                                                    <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${
                                                        dev.completionRate >= 80 ? 'bg-green-100 text-green-800' :
                                                        dev.completionRate >= 50 ? 'bg-yellow-100 text-yellow-800' :
                                                        'bg-red-100 text-red-800'
                                                    }`}>
                                                        {dev.completionRate.toFixed(0)}%
                                                    </span>
                                                </td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div className="mt-8 text-center text-gray-600">
                            <p className="text-sm">Developer Performance Comparison Dashboard</p>
                            <p className="text-xs mt-2 opacity-75">Click on any developer in the table to view detailed comparison</p>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<Dashboard />, document.getElementById('root'));
    </script>
</body>
</html>
